;180 PO Y , S PRAVO 40 MM , S NIZY 32 MM. 
G54
N2 STOPRE
N3 R1=$P_UIFR[1,X,TR]+$P_UIFR[1,X,FI]
N4 R2=$P_UIFR[1,Y,TR]+$P_UIFR[1,Y,FI]
N5 R3=$P_UIFR[1,Z,TR]+$P_UIFR[1,Z,FI]
N6 STOPRE
N7 $P_UIFR[2]=CTRANS(X,R1+40,Y,R2, Z,R3+32+150)
N8 G55
N9 STOPRE
N10 G64 SOFT COMPON
N11 WORKPIECE(,,,"BOX",0,0,-150,-80,0,0,-230,-70)
N13 T="FR35HFM"
N14 M6
N15 D1
N16 S1500 M3 G94
N17 G0 X-0.931 Y17.5
Z10 M8
N18 r1=0 r2=-92 r3=0.4
N19 while r1>r2
N20  r1=r1-r3
N21  if r1<r2
N22   r1=r2
N23  endif
N24 G1 Z=r1 F2000
N25 X-0.931 Y17.5 F4000
N26 X-0.217 Y3.583
N27 X1.206 Y-44.024
N28 G2 X-3.249 Y-75.605 I-94.223 J-2.816
N29 G1 X-7.06 Y-87.5
N30 G0 Z=r1+10
N31 X-21.491 Y18.456
N32 Z=r1+2
N33 G1 Z=r1 F2000
N34 X-21.376 Y17.5 F4000
N35 X-20.032 Y6.302
N36 G2 X-19.562 Y-0.03 I-69.495 J-8.342
N37 G1 X-18.278 Y-44.727
N38 G2 X-24.225 Y-76.134 I-74.739 J-2.113
N39 X-29.305 Y-87.5 I-609.337 J265.477
N40 G0 Z=r1+10
N41 X-42.423 Y18.438
N42 Z=r1+5
N43 G1 Z=r1 F2000
N44 X-42.207 Y17.5 F4000
N45 X-40.317 Y9.294
N46 G2 X-39.05 Y-0.581 I-49.21 J-11.334
N47 G1 X-37.758 Y-45.25
N48 G2 X-48.455 Y-79.563 I-55.315 J-1.581
N49 X-54.526 Y-87.5 I-375.004 J280.574
N50 G0 Z=r1+10
N51 X-222.583 Y-88.417
N52 G0 Z=r1+5
N53 G1 Z=r1 F2000
N54 X-222.875 Y-87.5 F4000
N55 X-226.649 Y-75.615
N56 G2 X-231.013 Y-44.476 I89.452 J28.41
N57 G1 X-229.524 Y6.687
N58 X-229.065 Y17.5
N59 G0 Z=r1+10
N60 X-200.266 Y-88.379
N61 Z=r1+5
N62 G1 Z=r1 F2000
N63 X-200.657 Y-87.5 F4000
N64 G2 X-205.687 Y-76.163 I606.619 J275.922
N65 X-211.553 Y-46.509 I68.491 J28.958
N66 G1 X-210.159 Y4.509
N67 X-208.624 Y17.5
N68 G0 Z=r1+10
N69 X-175.718 Y-88.773
N70 Z=r1+5
N71 G1 Z=r1 F2000
N72 X-175.642 Y-88.714 F4000
N73 G3 X-175.479 Y-87.5 I-.525 J.688
N74 G2 X-181.522 Y-79.559 I360.794 J280.869
N75 X-192.052 Y-45.842 I44.383 J32.364
N76 G1 X-190.792 Y2.228
N77 X-190.672 Y3.366
N78 G2 X-189.675 Y9.322 I49.864 J-5.279
N79 G1 X-187.795 Y17.5
N80 G0 Z=r1+10
N81 X-61.484 Y18.387
N82 Z=r1+5
N83 G1 Z=r1 F2000
N84 X-61.112 Y17.5 F4000
N85 G2 X-58.089 Y10.267 I-273.215 J-118.448
N86 X-55.776 Y-1.141 I-31.855 J-12.395
N87 G1 X-54.488 Y-45.711
N88 G2 X-93.128 Y-85.447 I-38.603 J-1.116
N89 G1 X-137.155 Y-85.405
N90 G2 X-175.321 Y-46.237 I.036 J38.214
N91 G1 X-174.144 Y0.41
N92 X-174.073 Y1.155
N93 G2 X-171.57 Y11.116 I33.88 J-3.22
N94 G1 X-168.888 Y17.5
N95 G0 Z=r1+5
N96 X-103.37 Y18.476
N97 Z=r1+5
N98 G1 Z=r1 F2000
N99 X-103.372 Y18.379 F4000
N100 G3 X-102.519 Y17.5 I.867 J-.013
N101 G2 X-98.775 Y17.187 I.356 J-18.267
N102 G1 X-87.542 Y15.206
N103 G2 X-72.5 Y-2.55 I-2.506 J-17.372
N104 G1 Y-49.977
N105 G2 X-90.038 Y-67.433 I-17.501 J.045
N106 G1 X-139.962
N107 G2 X-157.5 Y-49.977 I-.037 J17.501
N108 G1 Y-2.55
N109 G2 X-142.458 Y15.206 I17.546 J.385
N110 G1 X-131.225 Y17.187
N111 G2 X-127.481 Y17.5 I3.388 J-17.959
N112 G0 Z=r1+10
N113 endwhile
N114 g0 z100
m1

N120 R1=1.5
N121 R2=-24
N122 R3=.3
N123 WHILE R1>R2
N124  R1=R1-R3
N125  R4=-10+R1/TAN(30)-16.5 ;X corr
N126  R5=R1-1.08;Zcorr
N127   IF r4>-40
N128    g0 x-70 y-40
N129    g1 z=r5
N130    x-150
N131    g0 z5
N132   ENDIF
N133   g0 x-70 y=r4
N129    g1 z=r5
N130    x-150
N131    g0 z5
N139 ENDWHILE
N140 G0 Z200 M9
N141 m1

N146 T="FR50" ;na dlinnoy opravke
N147 M6
N148 D1
N149 S1300 M3 G94 f600 M8
N150 r1=-92 r2=-130 r3=1.5
N151 while r1>r2
N152  r1=r1-r3
N153  if r1<r2
N154   r1=r2
N155  endif
N156  r4=0.25
N157  if r1<-120
N158   r4=0.25-120-r1
N159  endif
N160 G0 X=15 Y30
N161 z=r1
N162 G1 Y=-75
N163 g0 z=r1+10
N164 X=-10 Y=28
N165 g1 z=r1
N166 Y=-75
N167 g0 z=r1+10
N168 X=-33 Y=28
N169 g1 z=r1
N170 Y=-75
N171 g0 z=r1+10
N172 X=-55 Y=28
N173 g1 z=r1
N174 Y=-75
N175 g0 z50
N176 X=-245 y-100
N177 g0 z=r1
N178 g1 Y5
N179 g0 z=r1+10
N180 X=-220 Y-100
N181 g1 z=r1
N182 Y=5
N183 g0 z=r1+10
N184 X=-197 Y-100
N185 g1 z=r1
N186 Y5
N187 g0 z=r1+10
N188 X=-175 Y-100
N189 g1 z=r1
N190 Y30
N191 G0 z=r1+10
N192 x=-90+10+$p_toolr
N193 z=r1
N194 g1 X=-90 g41 offn=r4
N195 Y=-50
N196 X=-140
N197 Y30
N198 G0 x=IC(-30) y=ic(25) g40
N199 endwhile
N200 g0 z100
N201 m1

N202 offn=-.15 ;zachistka steblya
N203 r1=0 r2=-120 r3=5
N204 while r1>r2
N205  r1=r1-r3
N206  if r1<r2
N207   r1=r2
N208  endif
N209 g0 x-116 y30
N210 z=r1
N211 g1 y0 g41
N212 x-102.08
N213 x-90 ang=-10 rnd=.5
N214 y-50 rnd=.5
N215 X=-140 rnd=.5
N216 Y-2.13 rnd=.5
N217 y0 ang=10
N218 x-114
N219 y30 g40
N220 endwhile
N221 g0 z100
m0

if $TC_DP1[$p_toolno,$p_tool]<>121
 msg(<<"Type of Tool must be 121 (CORNER RADIUS)")
 m0
 M30
endif
R1=-5 R2=90 R3=5
R5=-120   ;Z CENTR
R8=10 ;RAD
R9=$TC_DP7[$p_toolno,$p_tool] ;CORNER RAD OF MILL TOOL
WHILE R1<R2
 R1=R1+R3
 IF R1>R2
   R1=R2
 ENDIF
 R10=r5-(R8-R9)*SIN(R1)-r9 ;z
 R11=(R8-R9)*(1-COS(R1)) ;DELTA XY OT CENTRA OKRUJN
 g0 x=-90+10+$p_toolr y=10+$p_toolr
 z=r10
 g1 x-90 g41 offn=r11
 y-50 rnd=.5
 x-140 rnd=.5
 y10
 X-165 y30 g40
ENDWHILE
g0 z100
SUPA Y0
N222 M30
;
