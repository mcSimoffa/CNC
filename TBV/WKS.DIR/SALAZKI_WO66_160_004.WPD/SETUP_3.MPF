; T="FR 80 GESAK
; T="FR 160"
; T="FR 40"
; T="FR 32" ;  P290 EPW D32-3-170-W32-18 ISCAR
; T="FR 20 L130"; MM S-A-L130-C20-T12-W-H
; T="FR 16 L60"
; T="SV 22.5"
; T="SV 18 L145"; SVERLO=DCN 180-144-25R-8D
; T="SV 18 L210"; SVERLO=DCN 180-216-25R-12D
; T="SV 17.5"
; T="SV 4.3" ;VILET >115 DIAM DERJAVKI <36
; T="FR 16 L4O"
; T="E45X-D06"
; T="FSK8" ;VILET >110 DIAM DERJAVKI <35
; T="REZ FR P2.5"
; T="REZ REZ P2"
; T="MET M5" ;VILET >125 DIAM DERJAVKI <35; 
 
N1 G54
N2 WORKPIECE(,,,"BOX",0,5,-260,-80,0,0,885,-170)

N3 T="FR 80 GESAK"
N4 M6
N5 D1
N6 M3 S600 G94 F300
N7 G0 Z200 M8

;FASKA 'J'
N8 G0 X600 Y-220
N9 Z50 M8
N10 R1=0 R2=-9.9 R3=4
N11 WHILE R1>R2
N12 R1=R1-R3
N13 IF R1<R2
N14   R1=R2
N15 ENDIF
N16 r4=0 r5=665-$P_TOOLR+R1 r6=50
N17 r4=r4-r6
N18 while r4<r5
N19  r4=r4+r6
N20  if r4>r5
N21   r4=r5
N22  endif
N23  g0 x=r4 y-220 
N24    Z1
N25  G1 Z=R1
N26  Y20
N27  G0 Z20
N28 endwhile
N29 ENDWHILE
N30 G0 Z200 M5
N31 M9
N32 m0


N33 T="FR 160"
N34 M6
N35 D1
N36 M3 S430 G94 F400
N37 G0 Z200 M8
;TOREC 'B' MERA
N38 CYCLE61(100,-9,2,-10,-5,-180,655,5,5,75,1,360,22,10,1,11010)
;TOREC 'A' MERA
N39 CYCLE61(100,1,2,0,650,0,900,-180,5,75,1,360,12,0,1,11010)
N40 G0 Z200 M5
N41 M9
N42 m0


N43 T="FR 32" ;  P290 EPW D32-3-170-W32-18 ISCAR
N44 M6
N45 D1
N46 M3 S1600 G94 F800
N47 G0 Z100 M8
N48 r1=0 r2=-54.5 r3=14.5
;PAZ 'F' probivka
N49 WHILE R1>R2
N50  R1=R1-R3
N51  IF R1<R2
N52    R1=R2
N53  ENDIF
N54  G0 X913 Y-96
  ;cyctre (rtp, Zwork, sdis, trstep,with, string[50] traect)
N55  CYCTRE(50,R1,-R1+1,2,55,"G1 X715")
N56 ENDWHILE

;dno paza 'F' mera
N57 OFFN=.5
N58 r1=-55
N59 fcontur:
N60 G0 X=885+$P_TOOLR+10 Y=-68.5-$P_TOOLR-10
N61 G1 Z=r1
N62 Y-68.5 G41 
N63 X715
N64 G3 Y-123.5 CR=27.5
N65 G1 X890
N66 Y=-123.5+$P_TOOLR+10 Z=IC(2) G40
N67 fconture:
N68 G0 Z100 M9
N69 M1

N70 PAZC:
;PAZ 'C' probivka
N71 R1=-10 R2=-104.5 R3=14
N72 WHILE R1>R2
N73   R1=R1-R3
N74   IF R1<R2
N75     R1=R2
N76   ENDIF
N77   G0 X192 Y-208
   ;cyctre (rtp, Zwork, sdis, trstep,with, string[50] traect)
N78   CYCTRE(50,R1,5-R1,3,74.2,"G1 Y-92") 
N79   g0 X192 Y-92
N80   cycang(50,1,R1,20,1.5,"g1 X209 Y-75");rtp,Zhigh,Zlow,rad,step,move)
N81   g0 X192 Y-92
N82   cycang(50,1,R1,20,1.5,"g1 X175 Y-75")
N83 ENDWHILE
N84 m1

;DNO PAZA 'C' MERA
N85 OFFN=15
N86 r1=-105 r5=20
N87 ckontur:
N88 G0 X=229-$P_TOOLR-10 Y=-170-$P_TOOLR-10
N89 G1 Z=r1
N90 X=229 G41 
N91 Y-55 RND=r5
N92 X155 RND=r5
N93 Y-180
N94 X=IC($P_TOOLR+10) Z=IC(2) G40
N95 ckonture:
N96 offn=0
N97 repeat ckontur ckonture
N98 G0 Z200 M5
N99 M9
N100 M0


N101 T="FR 40" ;nasadnaya
N102 M6
N103 D1
N104 M3 S1600 G94 F500
; USTUP 'E'
N105 CYCLE61(100,-10,2,-13,-5,-180,15,5,5,60,0,600,21,10,1,11010)

N106 OFFN=.25
;ustup 'D' s pripuskom na stenki
N107 USTD:
N108 G0 X200 Y-200
N109 Z-13 M8
N110 g1 X=239 G41 
N111 Y=-45 RND=20
N112 X=145 RND=20
N113 Y=-180
N114 X180 G40
N115 G0 Z100 
N116 USTDE:
N117 G0 Z200 M5
N118 M9
N119 M0


N120 T="FR 20 L130" ;  MM S-A-L130-C20-T12-W-H
N121 M6
N122 D1
N123 M3 S2800 G94 F1000
N124 G0 Z200 M8
;DORABITKA UGLA NA R=10 i mera stenki KARMANA 'C'
N125 R1=-13 R2=-105 R3=10 r5=10
N126 WHILE R1>R2
N127   R1=R1-R3
N128   IF R1<R2
N129     R1=R2
N130   ENDIF
N131  g0 X209 Y-75
N132  cycang(50,1,R1,10.15,0.5,"g1 X219 Y-65");rtp,Zhigh,Zlow,rad,step,move
N133  g0 X175 Y-75
N134  cycang(50,1,R1,10.15,0.5,"g1 X165 Y-65")
N135  offn=-.15
N136  repeat ckontur ckonture
N137  g0 z50
N138 ENDWHILE
N139 G0 Z200 M5
N140 M9
N141 M0


N142 T="FR 16 L60"
N143 m6
N144 d1
N145 m3 s2800 g94 f600
N146 g0 z200 m10
;mera stenki karmana 'F'
N147 r1=0 r2=-55 r3=30
N148 offn=-.15
N149 WHILE R1>R2
N150  R1=R1-R3
N151  IF R1<R2
N152    R1=R2
N153  ENDIF
N154  repeat fcontur fconture
N155 ENDWHILE
N156 g0 z200 m5
N157 M9
N158 m0


N159 T="SV 22.5"
N160 M6
N161 D1
N162 M3 S2400 G95 F0.25 M10
;8 OTV D18. ZASVERLOVKA POD REZBU 
N163 MCALL CYCLE82(100,-10,1,-45,,1,10,1,22)
N164 REPEAT OTV18 OTVE18
N165 G0 Z200 M5
N166 M9
N167 M0


N168 T="SV 18 L145"
N169 M6
N170 D1
N171 M3 S2800 G95 F0.28 
N172 G0 Z200 M10
;8 OTV D18 PILOTNOE OTV
N173 MCALL CYCLE82(100,-45,1,-100,,1,10,1,22)
N174 OTV18:G0 X=275 Y=-69
N175 X=337 Y=-69
N176 X=275 Y=-151
N177 X=337 Y=-151
N178 X=444 Y=-69
N179 X=506 Y=-69
N180 X=444 Y=-151
N181 X=506 Y=-151
N182 OTVE18: MCALL
N183 G0 Z200 M5
N184 M9
N185 M0


N186 T="SV 18 L210"
N187 M6
N188 D1
N189 M3 S2800 G95 F0.28 M10
;8 OTV D18. DO DNA 
N190 MCALL CYCLE82(100,-45,1,-210.6,,1,10,1,22)
N191 REPEAT OTV18 OTVE18
N192 G0 Z200 M5
N193 M9
N194 M0


N195 T="SV 17.5"
N196 M6
N197 D1
N198 M3 S2800 G95 F0.28 M10
;2 OTV M20
N199 MCALL CYCLE82(100,-55,1,-97,,1,10,1,22)
N200 OTVM20: G0 X759 Y-96
N201 X835 Y-96
N202 OTVEM20: MCALL
N203 G0 Z200 M5
N204 M9
N205 M0


N206 T="SV 4.3" ;VILET >115 DIAM DERJAVKI <36
N207 M6
N208 D1
N209 M3 S700 G95 F0.08 M10
;4 OTV M5
N210 MCALL CYCLE82(100,-105,1,,-17,1,10,1,21)
N211 OTVM5: G0 X=173 Y=-130
N212 X=211
N213 Y=-140
N214 X=173
N215 OTVEM5:MCALL
N216 G0 Z200 M5
N217 M9
N218 M0


N219 T="FR 16 L40"
N220 M6
N221 D1
N222 M3 S2800 G94 F1000 M10
;8 OTV D18. POTAY D30
;RASKATKA(RTP,SDIS, ZNULL, GLUBINA, DST, DFIN,TURNFACTOR)
N223 MCALL RASKATKA(100,1,-10,4,22,30.2,8)
N224 REPEAT OTV18 OTVE18
; mera stenok ustupa 'D'
N225 offn=-.15
N226 repeat USTD USTDE
N227 g0 z200 M5
N228 M9
N229 M0


N230 T="E45X-D06"
N231 M6
N232 D1
N233 M3 S3600 G94 F600
N234 G0 Z200 M8
;FASKA 2
N235 G0 X-10 Y-180
N236 CHAMF(-13,.5,1.5) ;Z0;KATET,DEBT
N237 G1 X0  G41
N238 Y10
N239 X-10 G40
N240 G0 Z50

;FASKA 1
N241 X644 Y-180
N242 CHAMF(-10,.5,1.5) ;Z0;KATET,DEBT
N243 G1 Y=-170 G41
N244 G1 X=239
N245 Y=-45 RND=20
N246 X=145 RND=20
N247 Y=-170
N248 X=15
N249 Y=0
N250 X=620
N251 Y10 G40
N252 G0 Z50

;FASKA 3
N253 G0 X900 Y-35
N254 CHAMF(0,.5,1.5) ;Z0;KATET,DEBT
N255 G1 X=885 G41
N256 Y=-68.5
N257 X=715
N258 G3 Y=-123.5 I=AC(715) J=AC(-96)
N259 G1 X=885
N260 Y=-170
N261 X=655
N262 Y-180 G40
N263 G0 Z50

;FASKA 4
N264 G0 X220 Y-180
N265 CHAMF(-13,.5,1.5) ;Z0;KATET,DEBT
N266 G1 X=229 G41
N267 Y=-55 RND=10
N268 X=155 RND=10
N269 Y=-170
N270 X165 G40
N271 G0 Z50

N272 mcall cfhole(50,1,-10,.5,30);RTP,SDIS,ZNULL,KATET,DOTV
N273 REPEAT OTV18 OTVE18
N274 mcall cfhole(50,1,-14,1,22.5);RTP,SDIS,ZNULL,KATET,DOTV
N275 REPEAT OTV18 OTVE18
N276 G0 Z200 M5
N277 M9
N278 M0


N279 T="FSK8" ;VILET >110 DIAM DERJAVKI <35
N280 M6
N281 D1
N282 M3 S3800 G94 F300
N283 G0 Z200 M10
N284 mcall cfhole(50,1,-55,1.6,17.5);RTP,SDIS,ZNULL,KATET,DOTV
N285 REPEAT OTVM20 OTVEM20

N286 mcall cfhole(50,1,-105,.5,4.3);RTP,SDIS,ZNULL,KATET,DOTV
N287 REPEAT OTVM5 OTVEM5
N288 G0 Z200 M5
N289 M9
N290 M0


N291 T="REZ FR P2.5"
N292 M6
N293 D1
N294 M3 S3200 G94 F1200 M10
N295 MCALL CYCLE70(100,-55,1,-96,20.15,1.25,0,2.5,1,0.35,900,0,25,-140,0,11,1,,,,,1,0)
N296 REPEAT OTVM20 OTVEM20
N297 MCALL
; M1
N298 MCALL CYCLE70(100,-55,1,-96,20.15,1.25,0,2.5,1,0.35,1200,0,25,-140,0,12,1,,,,,1,0)
N299 REPEAT OTVM20 OTVEM20
N300 MCALL
N301 G0 Z200 M5
N302 M9
N303 M0


N304 T="REZ REZ P2"
N305 M6
N306 D1
N307 M3 S3600 G94 F1200 M10
N308 MCALL CYCLE70(100,-14,1,-35,24.1,0.7,0,1.5,1,0.2,720,0,25,-140,0,11,1,,,,,1,0)
N309 REPEAT OTV18 OTVE18
N310 G0 Z200 M5
N311 M9
N312 M0


N313 T="MET M5" ;VILET >125 DIAM DERJAVKI <35
N314 M6
N315 D1
N316 M3 S200 G95 F0.8
N317 MCALL CYCLE84(100,-105,1,,-12,0.7,5,,0.8,0,200,200,0,1,0,0,5,1.4,,"ISO_METRIC","M5",,1001,2001001)
N318 REPEAT OTVM5 OTVEM5
N319 G0 Z200 M5
N320 M9

N321 M30

