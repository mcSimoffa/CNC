N1 G54
N2 WORKPIECE(,"",,"BOX",48,14,-215,-80,-10,10,700,-530)

N3 G64 SOFT COMPON
N4 T="FR 80 GESAK"
N5 m6
N6 d1
N7 m3 s600 f300 g94 m8
;obraotka bez korki s prip 0.4
N8 CYCLE61(100,3.6,2,0,-35,0,710,-540,4,85,0.4,300,11,0,1,11010)
N9 g0 z200 M5
N10 m9
N11 m0


N12 T="FR 66 HF"
N13 m6
N14 d1
N15 m3 s900 f7000 g94 m11
N16 r1=0.4 r2=-19.6 r3=.8 ;karman 'B'
N17 while r1>r2
N18  r1=r1-r3
N19  if r1<r2
N20    r1=r2
N21  endif
N22 g0 x710 y-265
N23 z=r1
N24 g1 x-10 rndm=10
N25 y-315
N26 x680
N27 y-215
N28 x-10
N29 y-366
N30 x680
N31 y-164
N32 x-10
N33 y-417
N34 x680
N35 y-113
N36 x-40 rndm=0
N37 g0 z10
N38 endwhile
N39 g0 z100
N40 m0

N41 r1=-19.6 r2=-60 r3=.8 ;karman 'C'
N42 while r1>r2
N43  r1=r1-r3
N44  if r1<r2
N45    r1=r2
N46  endif
N47 g0 x707 y-282
N48 g1 z=r1
N49 x575 rnd=5
N50 y-346 rnd=5
N51 x707
N52 endwhile
N53 g0 z100
N54 m0

N55 T="KUKURUZA 50"
N56 M6
N57 D1
N58 S1000 M3 G94 F720 M10
;virezka nedorezov pod stenkami posle High Feed
N59 g0 x700 y-120
N60 z-19.75
N61 g1 y-80 g41 offn=0
N62 x-20
N63 g0 y-120 z-18 g40
N64 y-410
N65 g1 y-450 z-19.75 g41
N66 x700
N67 y-410 z-18 g40
N68 g0 z100
N69 m0

N70 T="FR 160"
N71 M6
N72 D1
N73 S360 M3 G94 F300 
;ploskosti 'A' mera
N74 G0 X-90 Y-10
N75 Z10 m8
N76 G1 Z0
N77 X=670+$P_TOOLR+10
N78 G0 Z100
N79 Y-520
N80 Z10
N81 G1 Z0
N82 X=-$P_TOOLR-10
N83 G0 Z100
;ploskost 'B' mera
N84 CYCLE61(100,-19.6,2,-20,0,-449.5,770,-80.5,4,100,0.4,300,12,1100,1,11000)
N85 G0 Z200 M5
N86 M9
N87 M0


N88 T="SV 21"
N89 M6
N90 D1
N91 S2000 M3 G95 F0.26 
N92 G0 Z200 M10
;sverlovka pod pazy 'D'  (b=25)
N93 MCALL CYCLE82(150,-20,1,-65,,1,10,1,22)
N94 OTV_P:
N95 X292.5 Y-263
N96 X292.5 Y-365
N97 OTV_PE: MCALL
N98 g0 z100


N99 ;Start of  sverl 6o pod m24
N100 G0 Z200 M10
N101 MCALL CYCLE82(100,0,1,-60,,1,10,1,22)
N102 OTV21: 
N103 G0 X=50 Y=-500; 1
N104 X=60 Y=-40; 2
N105 X=245 Y=-40; 3
N106 X=425 Y=-40; 4
N107 X=610 Y=-40; 5
N108 X=620 Y=-500; 6
N109 OTVE21:MCALL
N110 G0 Z100 M5
N111 m9
N112 M0

N113 T="FR 16FIN"
N114 M6
N115 D1
N116 S2800 M3 G94 F1000
;UGLY KARMANA 'C'
N117 g0 x580 y-287
;rtp,Zhigh,Zlow,rad,step,move)
N118 cycang(100,1,-51,10,0.4,"g1 x552 y-259")
N119 g0 x580 y-341
N120 cycang(100,1,-51,10,0.4,"g1 x552 y-369")
N121 G0 X=682 Y=-260
N122 Z1 M10 
N123 OFFN=-.1
N124 G1 Z-51
N125 KARMAN: G0 Y=-249 g41
N126 G1 X=542 rnd=10
N127 G1 Y=-379 rnd=10
N128 X=682
N129 KARMANE: Y=IC(10) G40
N130 G0 Z200
N131 M0
;raskatka pod zahod v pazy 'D'
;RASKATKA(RTP,SDIS, ZNULL, GLUBINA, DST, DFIN,TURNFACTOR)
N132 MCALL RASKATKA(50,1,-20,37,20.5,25.2,6)
N133 repeat OTV_P OTV_PE
;trohoida v pazah 'D'
;cyctre (rtp, Zwork, sdis, trstep,with, string[50] traect)
N134 MCALL CYCTRE(150,-56.5,38,.4,25.2,"G1 X412.5")
N135 repeat OTV_P OTV_PE

;pazy 'D' kontur mera
N136 G0  X292.5 Y-263
N137 Z-15
N138 G1 Z-56.5 OFFN=-.25
N139 REPEAT PAZ25 PAZE25
N140 G0 Z100
N141 X292.5 Y-365
N142 Z-15
N143 G1 Z-56.5
N144 REPEAT PAZ25 PAZE25
N145 G0 Z100

;stenki karmana 'B' mera
N146 X690 Y-95
N147 Z1
N148 G1 Z-19.95
N149 Y-80 G41 OFFN=-.15
N150 X-10
N151 Y-95 Z=IC(5) G40
N152 G0 Z50
N153 Y-430
N154 Z1
N155 G0 Z-19.95
N156 G1 Y-450 G41
N157 X680
N158 Y-430 Z=IC(5) G40
N159 G0 Z200 M5
N160 M9
N161 M0


N162 ;Start of  sverl 12o pod m16
N163 T="SV 14"
N164 M6
N165 D1
N166 S2400 M3 G95 F.28
N167 G0 Z200 M10
N168 MCALL CYCLE82(100,-20,1,-68,,1,10,1,22)
N169 OTV14: G0 X=480 Y=-379; 1
N170 X=480 Y=-249; 2
N171 X=72.5 Y=-145; 3
N172 X=147.5 Y=-145; 4
N173 X=222.5 Y=-145; 5
N174 X=297.5 Y=-145; 6
N175 X=372.5 Y=-145; 7
N176 X=447.5 Y=-145; 8
N177 X=522.5 Y=-145; 9
N178 X=597.5 Y=-145; 10
N179 X=513 Y=-249; 11
N180 X=513 Y=-379; 12
N181 OTVE14: MCALL
N182 ;The end of  sverl 12o pod m16
N183 G0 Z100 M5
N184 M9
N185 SUPA Y0
N186 M0

N187 ;Start of  sverl 8o pod m10
N188 T="SV 8.5"
N189 M6
N190 D1
N191 S2500 M3 G95 F.15
N192 G0 Z200 M10
N193 MCALL CYCLE82(100,-20,1,,-30,1,10,1,21)
N194 OTV85: 
N195 G0 X=487 Y=-191
N196 X=542 Y=-191
N197 X=542 Y=-221
N198 X=487 Y=-221
N199 X=487 Y=-407
N200 X=542 Y=-407
N201 X=542 Y=-437
N202 X=487 Y=-437
N203 OTVE85: MCALL
N204 ;The end of  sverl 8o pod m10
N205 G0 Z100 M5
N206 M9
N207 SUPA Y0
N208 M0

N209 T="E45X-D06"
N210 M6
N211 D1
N212 M3 S3000 G94 F400
N213 G0 Z200 M8
N214 MCALL cfhole(100,1,0,1.55,21);RTP,SDIS,Z0,KATET,DOTV
N215 REPEAT OTV21 OTVE21
N216 MCALL cfhole(100,1,-20,1.05,14);RTP,SDIS,Z0,KATET,DOTV
N217 REPEAT OTV14 OTVE14
N218 MCALL cfhole(100,1,-20,.8,8.5);RTP,SDIS,Z0,KATET,DOTV
N219 REPEAT OTV85 OTVE85
N220 G0 Z200
N221 X292.5 Y-263
N222 freecf(-20,.5)
N223 REPEAT PAZ25 PAZE25
N224 G0 Z200
N225 X292.5 Y-365
N226 freecf(-20,.5)
N227 REPEAT PAZ25 PAZE25
N228 G0 Z200
N229 X682 Y-260
N230 freecf(-20,.5)
N231 REPEAT KARMAN KARMANE
N232 G0 Z200
N233 X-10 Y10
N234 freecf(0,.5)
N235 G1 Y0 G41
N236 X670
N237 Y-80
N238 X0
N239 Y10
N240 X-10 G40
N241 G0 Z200
N242 G0 X-10 Y-440
N243 freecf(0,.5)
N244 G1 Y-450 G41
N245 X670
N246 Y-530
N247 X0
N248 Y-440
N249 X-10 G40
N250 G0 Z200
N251 X-10 Y-435
N252 freecf(-20,.5)
N253 G1 X0 G41
N254 Y-95
N255 X-10 G40
N256 G0 Z200
N257 X680 Y-95
N258 freecf(-20,.5)
N259 G1 X670 G41
N260 Y-435
N261 X680 G40
N262 G0 Z300 M5
N263 M9
N264 M0


N265 T="REZ FR P3"
N266 M6
N267 D1
N268 M3 S3000 G94 F1200
N269 G0 Z100 M10
N270 MCALL CYCLE70(100,0,3,-49,24.2,1.4,0,3,1,0.35,900,0,0,0,0,11,1,,,,,1,0)
N271 REPEAT OTV21 OTVE21
N272 MCALL
N273 MCALL CYCLE70(100,0,3,-49,24.2,1.4,0,3,1,0.35,1200,0,0,0,0,12,1,,,,,1,0)
N274 REPEAT OTV21 OTVE21
N275 MCALL
N276 G0 Z300 M5
N277 M9
N278 M0

N279 T="REZ REZ P2"
N280 M6
N281 D1
N282 M3 S3600 G94 F1000
N283 G0 X300 Y-150
N284 G0 Z100 M8
N285 MCALL CYCLE70(100,-20,2,-62,16.1,1.05,0,2,1,0.4,960,0,0,0,0,11,1,,,,,1,0)
N286 REPEAT OTV14 OTVE14
N287 MCALL
N288 MCALL CYCLE70(100,-20,2,-62,16.1,1.05,0,2,1,0.4,1200,0,15,-29,0,12,1,,,,,1,0)
N289 REPEAT OTV14 OTVE14
N290 MCALL
N291 G0 Z300 M5
N292 M9
N293 M0

N294 T="MET M10"
N295 M6
N296 D1
N297 M3 S225 G94 F500
N298 G0 Z100 M8
N299 MCALL CYCLE84(100,-20,3,,-25,0.1,5,,1.5,0,225,225,0,1,0,0,5,1.4,,,,,1001,2001001)
N300 REPEAT OTV85 OTVE85
N301 G0 Z400 M5
N302 M9
N303 SUPA Y0
N304 M30

N305 PAZ25:G1 G91 Y12.5 G41
N306 G3 Y-25 CR=12.5
N307 G1 X120
N308 G3 Y25 CR=12.5
N309 G1 X-120
N310 Y-12.5 G40
N311 PAZE25:G90

