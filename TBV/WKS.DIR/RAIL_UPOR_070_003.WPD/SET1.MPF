;NA KUBIKAX 25MM
;VIRAVNIVANIE PO TISKAM SPRAVA
WORKPIECE(,,,"BOX",0,1,-110,-80,-5,5,210,-170)
T="FR80M"
M6
D1
M3 S500 G94 F500
G1 Z200 M8
CYCLE61(100,1,2,0,-5,5,210,-170,5,50,0,500,11,0,1,0)
G0 Z200 
M0

;VIBORKA MASA Z-55 NA 140 S NEDOBOROM UGLA
R1=0 R2=-54.5 R3=2
WHILE R1>R2
 R1=R1-R3
 IF R1<R2
   R1=R2
 ENDIF
 R4=-6
 R5=140+R1
 R6=40
 WHILE R4<R5
  R4=R4+R6
  IF R4>R5
   R4=R5
  ENDIF
  G0 Y-200
  X=R4-$P_TOOLR
  Z=R1+R3
  G1 Z=R1
  Y50
  X=IC(-1) Z=IC(1)
  ENDWHILE
 ENDWHILE
M9
M0

T="FR63"
M6
D1
M3 S800 G94 F800
G0 Z200 M8
;DORABOTKA PRAMOGO UGLA
R1=0 R2=-54.5 R3=4
WHILE R1>R2
 R1=R1-R3
 IF R1<R2
   R1=R2
 ENDIF
 R4=140+R1
 IF R1<-41
  R5=140.5+(R1+41)
 ELSE
  R5=140.5
 ENDIF
 R6=6
 WHILE R4<R5
  R4=R4+R6
  IF R4>R5
   R4=R5
  ENDIF
  G0 Y-180
  X=R4-$P_TOOLR
  G1 Z=R1
  Y20
  X=IC(-1) Z=IC(1)
  ENDWHILE
 ENDWHILE
G0 Z200
M0

;OBKATKA SNARUJI
R1=-55 R2=-82 R3=4
WHILE R1>R2
 R1=R1-R3
 IF R1<R2
   R1=R2
 ENDIF
 G0 Y40
 X-20
 G1 Z=R1
 Y0 G41 OFFN=-.1
 X201
 Y-160
 X0
 Y5
 X-40 G40
ENDWHILE
G0 Z200
M0

;PROFIL 20 GRAD
R1=0 R2=-82 R3=4
WHILE R1>R2
 R1=R1-R3
 IF R1<R2
   R1=R2
 ENDIF
 R4=160
 R5=25
 R6=10
 WHILE R4>R5
  R4=R4-R6
  IF R4<R5
   R4=R5
  ENDIF
  G0 X=201+$P_TOOLR+3 Y=-R4
  Z1
  G1 Z=R1
  Y-180 ANG=-110
  G0 Z10
 ENDWHILE
 G0 X=205+$P_TOOLR
 Y20
 G1 Z=R1
 X200.5 G41 OFFN=.5
 Y-25 RND=10
 Y-160 ANG=-110 RND=10
 X=IC(-10)
 Y=IC(-40) G40
 G0 Z10
ENDWHILE
G0 Z10
M0

;SKLON 15 GRAD
R1=-55 R2=-83 R3=1
SKLON15:
WHILE R1>R2
 R1=R1-R3
 IF R1<R2
   R1=R2
 ENDIF
 G0 Y-180
 X=6.25+(55+R1)/4-$P_TOOLR
 Z=R1+R3
 G1 Z=R1
 Y20
 X=IC(-1) Z=IC(1)
 ENDWHILE
SKLONE15:
G0 Z200 M9
M0
 
T="FASK 15"
M6
D1
M3 S2000 G94 F500
G0 Z200 M8
R1=-55 R2=-82 R3=4
REPEAT SKLON15 SKLONE15
G0 Z200 M9
M0

T="FR 16"
M6
D1
M3 S2080 G94 F800 M8
R1=-25
KNTR:
G0 X120 Y25
Z1
G1 Z=R1
G347 Y0 DISR=5 G41 OFFN=-.1
X200.5 RND=.5
Y-25 RND=10
Y-160 ANG=-110 RND=10
X135
Y=IC(-10) G40
G0 Z10
KNTRE:
R1=-55
REPEAT KNTR KNTRE
M0

;PODKATKA RAZMERA 140.5
G0 X155 Y-180
Z1
G1 Z-41
Y-160 G41 OFFN=-.1
X140.5 RND=.5
Y0 RND=.5
X142
G348 Y20 DISR=4 G40
G0 Z100 M9
M0

RAD:
T="FR32R4"
M6
D1
if $TC_DP1[$p_toolno,$p_tool]<>121
 msg(<<"Type of Tool must be 121 (CORNER RADIUS)")
 m0
 M30
endif
M3 S1500 G94 F500
G0 Z200 M8
R1=0 R2=-90 R3=5
R4=140.5-14 ;X CENTR
R5=-55+14   ;Z CENTR
R6=-160 ;Y SRART
R7=0 ; Y FIN
R8=14 ;RAD
R9=$TC_DP7[$p_toolno,$p_tool] ;CORNER RAD OF MILL TOOL
WHILE R1>R2
 R1=R1-R3
 IF R1<R2
   R1=R2
 ENDIF
 G0 Y=R6-$P_TOOLR-R9-1
 R10=(R8-R9)*SIN(R1) ;DELTA Z OT CENTRA OKRUJN
 R11=(R8-R9)*COS(R1) ;DELTA XY OT CENTRA OKRUJN
 X=R4+R11-$P_TOOLR+R9
 Z=R5+R10-R9
 G1 Y=R7+$P_TOOLR+R9+1
 G0 Z10
ENDWHILE
CYCLE61(100,-50,2,-55,0,0,126.5,-160,6,15,0,500,41,10,1,11000)
M0

T="E45X-D06"
M6
D1
M3 S3000 G94 F400
G0 X210 Y10
Z100 M8
CHAMF(0,3,.5) ;Z0;KATET,DEBT
G1 X200.5 G41
Y-25 RND=10
Y-162.5 ANG=-110
X140.5
Y2.5
X210
Y20 G40
G0 Z100
X110 Y-170
CHAMF(-55,.5,3) ;Z0;KATET,DEBT
G1 Y-160 G41
X6.25
Y0 
X110
Y10 G40
G0 Z100 M9
M30

