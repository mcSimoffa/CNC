N1 G54
N2 WORKPIECE(,,,"BOX",48,5,-210,-80,-10,10,680,-540)
N3 G64 SOFT COMPON
N4 ;Diam= 63 "Corner radius=" 0.8 "Long=" 100 "Angle=" +0 " deg"
N5 T="KUKURUZA 63"
N6 M6
N7 D1
N8 S400 M3 G94 F400
;OBFREZEROVKA VOKRUG
N9 G0 X-20 Y=$P_TOOLR+20 
N10 Z10 M10
N11 G1 Z-53
N12 OFFN=0
N13 OUTSID: Y0 G41
N14 G1 X670 RND=1
N15 Y-530 RND=1
N16 X0 RND=1
N17 Y0 RND=1
N18 X3
N19 OUTSIDE: Y=$P_TOOLR+10 G40
N20 G0 Z200
N21 M1

N22 ;stenki paza 370
N23 X=670+$P_TOOLR Y=-80-$P_TOOLR-10
N24 Z9 M10
N25 G1 Z-18;-19.5
N26 Y-80 G41
N27 X=-$P_TOOLR-10
N28 Y=-80-$P_TOOLR-10 G40
N29 G0 Z100

N30 Y=-450+$P_TOOLR+10
N31 Z9
N32 G1 Z-18;-19.5
N33 Y-450 G41
N34 G1 X=670+$P_TOOLR
N35 Y=-450+$P_TOOLR+10 G40
N36 G0 Z200 M9
N37 ;The end of  stenki paza 370
N38 SUPA Y0
N39 M1

N40 KARMAN_128_130
N41 G0 Z200 M9
N42 SUPA Y0
N43 M1

N44 T="FR 100"
N45 M6
N46 D1
N47 S400 M3 G94 F1000
N48 G0 X-50 Y50
N49 Z10
N50 X=-$P_TOOLR-10 Y-35 M8
N51 Z9
N52 G1 Z0.25 F600
N53 X=670+$P_TOOLR+10
N54 G0 Z100
N55 Y-495
N56 Z9
N57 G1 Z0.25
N58 X=-$P_TOOLR-10
N59 G0 Z104
N60 ;The end of  baza a prip
N61 G0 Z200 M9
N62 SUPA Y0
N63 M1


N64 ;Start of  dno paza 370 prip
N65 R1=25 ;step of Y move
;ESLI PO DNU MNOGO PRIPUSKA - TO VKLU4IT TROHOIDU R0=1
N66 R0=1
N67 IF R0==1
N68    G0 X=-80 Y-265 F500 M8
    ;cyctre (rtp, Zwork, sdis, trstep,with, string[50] traect)
N69    CYCTRE(150,-19.5,21,10,160,"G1 X670")
N70    R1=R1+30
N71 ENDIF
N72 G0 X-80 Y-265
N73 Z5
N74 R2=-265 ;CENTR
N75 R3=R2
N76 WHILE (R2<-80) AND (R3>-450)
N77 R2=R2+R1
N78 R3=R3-R1
N79 IF R2>-80
N80    R2=-80
N81 ENDIF
N82 IF R3<-450
N83    R3=-450
N84 ENDIF
N85 G0 X=-$P_TOOLR-10 Y=R3+$P_TOOLR
N86 G1 Z-19.5
N87 X680
N88 Y=R2-$P_TOOLR
N89 X-10
N90 ENDWHILE
N91 G0 Z200 M9
N92 M1

N93 ;Start of  baza a mera
N94 ;Diam=" 160.3 "Corner radius=" 0 "Long=" 110 "Angle=" +0 " deg"
N95 T="FR 160"
N96 M6
N97 D1
N98 S600 M3 G94 F500
N99 G0 X=-$P_TOOLR-10 Y-35
N100 Z9 M8
N101 G1 Z0
N102 X=670+$P_TOOLR+10
N103 G0 Z50
N104 Y-495
N105 G1 Z0
N106 X=-$P_TOOLR-10
N107 G0 Z104
N108 ;The end of  baza a mera
N109 G0 Z200 M9
N110 SUPA Y0
N111 M1

;Start of  dno paza 370 mera
N112 G0 X-80 Y-265
N113 Z5
N114 R1=50 ;step of Y move
N115 R2=-265 ;CENTR
N116 R3=R2
N117 WHILE (R2<-80.3) AND (R3>-449.7)
N118 R2=R2+R1
N119 R3=R3-R1
N120 IF R2>-80.3
N121    R2=-80.3
N122 ENDIF
N123 IF R3<-449.7
N124    R3=-449.7
N125 ENDIF
N126 G0 X=-$P_TOOLR-10 Y=R3+$P_TOOLR
N127 G1 Z-20
N128 X680
N129 Y=R2-$P_TOOLR
N130 X-10
N131 ENDWHILE
N132 G0 Z200 M9 M5
N133 M1

N134 ;Start of  sverl pod pazy25
N135 T="SV 21"
N136 M6
N137 D1
N138 S2000 M3 G95 F.28 
N139 G0 Z200 M10
N140 MCALL CYCLE82(150,-20,1,-62,,1,10,1,22)
N141 X257.5 Y-263
N142 X257.5 Y-365
;X377.5 Y-365
;X377.5 Y-263
N143 MCALL
N144 ;The end of  sverl pod pazy25
N145 G0 Z300
N146 SUPA Y0
N147 M1

N148 ;Start of  sverl 6o pod m24
N149 G0 Z200 M10
N150 MCALL CYCLE82(100,0,1,,65,1,10,1,21)
N151 OTV21: X425 Y-40
N152 X610 Y-40
N153 X245 Y-40
N154 X60 Y-40
N155 X50 Y-500
N156 X620 Y-500
N157 OTVE21:MCALL
N158 G0 Z100
N159 ;The end of  sverl 6o pod m24
N160 G0 Z300 M9 M5
N161 SUPA Y0
N162 M1


N163 ;Start of  karman 130x128 mera
N164 ;Diam=" 16 "Corner radius=" 0 "Long=" 90 "Angle=" +0 " deg"
N165 T="FR 16"
N166 M6
N167 D1
N168 S2800 M3 G94 F1000
;UGLY KARMANA 130x128
N169 g0 x96 y-281
N170 cycang(100,1,-51,10,0.4,"g1 x118 y-259");rtp,Zhigh,Zlow,rad,step,move)
N171 g0 x96 y-347
N172 cycang(100,1,-51,10,0.4,"g1 x118 y-369")
N173 X-10 Y-369
N174 Z1 M10 
N175 OFFN=-.1
N176 G1 Z-51
N177 KARMAN: Y-379 G41
N178 X128 RND=10
N179 Y-249 RND=10
N180 X-5
N181 KARMANE: Y=IC(-10) G40
N182 G0 Z100
N183 ;The end of  karman 130x128 mera
N184 G0 Z200
N185 SUPA Y0
N186 M1

;RASKATKA(RTP,SDIS, ZNULL, GLUBINA, DST, DFIN,TURNFACTOR)
N187 MCALL RASKATKA(50,1,-20,32,20.5,25.2,6)
N188 X257.5 Y-263
N189 X257.5 Y-365
N190 MCALL

;cyctre (rtp, Zwork, sdis, trstep,with, string[50] traect)
N191 MCALL CYCTRE(150,-52,33,.4,25.2,"G1 X377.5")
N192 X257.5 Y-263
N193 X257.5 Y-365
N194 MCALL
;PAZY 25 MERA KONTUR
N195 G0  X257.5 Y-263
N196 Z-15
N197 G1 Z-52 OFFN=-.25
N198 REPEAT PAZ25 PAZE25
N199 G0 Z100
N200 X257.5 Y-365
N201 Z-15
N202 G1 Z-52
N203 REPEAT PAZ25 PAZE25
N204 G0 Z100

;PAZ 370 MERA
N205 X690 Y-95
N206 Z1
N207 G1 Z-19.95
N208 Y-80 G41 OFFN=-.15
N209 X-10
N210 Y-95 Z=IC(5) G40
N211 G0 Z50
N212 Y-430
N213 Z1
N214 G0 Z-19.95
N215 G1 Y-450 G41
N216 X680
N217 Y-430 Z=IC(5) G40
N218 G0 Z200

;OBKAT SNARUJI
N219 X-10 Y20
N220 Z1
N221 G1 Z-44
N222 OFFN=-.1
N223 REPEAT OUTSID OUTSIDE
N224 G0 Z200 M9 M5
N225 M1

N226 ;Start of  sverl 12o pod m16
N227 T="SV 14"
N228 M6
N229 D1
N230 S2400 M3 G95 F.28
N231 G0 Z200 M10
N232 MCALL CYCLE82(100,-20,1,-62,,1,10,1,22)
N233 OTV14: X222.5 Y-145
N234 X147.5 Y-145
N235 X72.5 Y-145
N236 X157 Y-249
N237 X157 Y-379
N238 X190 Y-379
N239 X190 Y-249
N240 X297.5 Y-145
N241 X372.5 Y-145
N242 X447.5 Y-145
N243 X522.5 Y-145
N244 X597.5 Y-145
N245 OTVE14: MCALL
N246 ;The end of  sverl 12o pod m16
N247 G0 Z320 M9 M5
N248 SUPA Y0
N249 M1

N250 ;Start of  sverl 8o pod m10
N251 T="SV 8.5"
N252 M6
N253 D1
N254 S2500 M3 G95 F.15
N255 G0 Z200 M10
N256 MCALL CYCLE82(100,-20,1,,-28,1,10,1,21)
N257 OTV85: X128 Y-407
N258 X128 Y-437
N259 X183 Y-437
N260 X183 Y-407
N261 X183 Y-221
N262 X183 Y-191
N263 X128 Y-191
N264 X128 Y-221
N265 OTVE85: MCALL
N266 ;The end of  sverl 8o pod m10
N267 G0 Z300 M9 M5
N268 SUPA Y0
N269 M1

N270 T="E45X-D06"
N271 M6
N272 D1
N273 M3 S3000 G94 F400
N274 G0 Z200 M8
N275 MCALL cfhole(100,1,0,1.55,21);RTP,SDIS,Z0,KATET,DOTV
N276 REPEAT OTV21 OTVE21
N277 MCALL cfhole(100,1,-20,1.05,14);RTP,SDIS,Z0,KATET,DOTV
N278 REPEAT OTV14 OTVE14
N279 MCALL cfhole(100,1,-20,.8,8.5);RTP,SDIS,Z0,KATET,DOTV
N280 REPEAT OTV85 OTVE85
N281 G0 Z200
N282 X257.5 Y-263
N283 freecf(-20,.5)
N284 REPEAT PAZ25 PAZE25
N285 G0 Z200
N286 X257.5 Y-365
N287 freecf(-20,.5)
N288 REPEAT PAZ25 PAZE25
N289 G0 Z200
N290 X-10 Y-369
N291 freecf(-20,.5)
N292 REPEAT KARMAN KARMANE
N293 G0 Z200
N294 X-10 Y10
N295 freecf(0,.5)
N296 G1 Y0 G41
N297 X670
N298 Y-80
N299 X0
N300 Y10
N301 X-10 G40
N302 G0 Z200
N303 G0 X-10 Y-440
N304 freecf(0,.5)
N305 G1 Y-450 G41
N306 X670
N307 Y-530
N308 X0
N309 Y-440
N310 X-10 G40
N311 G0 Z200
N312 X-10 Y-435
N313 freecf(-20,.5)
N314 G1 X0 G41
N315 Y-95
N316 X-10 G40
N317 G0 Z200
N318 X680 Y-95
N319 freecf(-20,.5)
N320 G1 X670 G41
N321 Y-435
N322 X680 G40
N323 G0 Z300 M9 M5
N324 M1

N325 T="REZ FR P3"
N326 M6
N327 D1
N328 M3 S3000 G94 F1200
N329 G0 Z100 M10
N330 MCALL CYCLE70(100,0,1,-49,24.2,1.4,0,3,1,0.35,900,0,0,0,0,11,1,,,,,1,0)
N331 REPEAT OTV21 OTVE21
N332 G0 Z300 M9 M5
N333 M1

N334 T="REZ FR P2"
N335 M6
N336 D1
N337 M3 S3800 G94 F1000
N338 G0 X300 Y-150
N339 G0 Z100 M8
;MCALL CYCLE70(100,-20,2,-62,16.325,1.05,0,2,1,0.4,900,0,0,0,0,11,1,,,,,1,0)
N340 MCALL CYCLE70(100,-20,2,-62,16.4,1.05,0,2,1,0.4,1200,0,15,-29,0,12,1,,,,,1,0)
N341 REPEAT OTV14 OTVE14
N342 G0 Z300 M9 M5
N343 M1

N344 T="MET4IK M10"
N345 M6
N346 D1
N347 M3 S225 G94 F500
N348 G0 Z100 M8
N349 MCALL CYCLE84(100,-20,3,,-25,0.1,5,,1.5,0,225,225,0,1,0,0,5,1.4,,,,,1001,2001001)
N350 REPEAT OTV85 OTVE85
N351 G0 Z400 M9 M5
N352 SUPA Y0
N353 M30

N354 PAZ25:G1 G91 Y12.5 G41
N355 G3 Y-25 CR=12.5
N356 G1 X120
N357 G3 Y25 CR=12.5
N358 G1 X-120
N359 Y-12.5 G40
N360 PAZE25:G90
;
