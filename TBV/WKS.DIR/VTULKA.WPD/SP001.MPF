N10 WORKPIECE(,"",,"CYLINDER",0,0,-100,-80,82)
N20 G54
N30 T="FR63"
N40 M6
N50 D1
N60 G0 Z100
N70 M3 S1200 F600 G94
N80 SKOS:
N90 X0Y0
;-----------------------------------
N100 R1=-4 ;Z FINISH
N110 R2=30 ;ANGLE
N120 R3=34 ;Y
N130 R5=0.1 ;Z START
N140 R6=.2; STEP Z
N150 R7=1 ;R CUTTER
;---------------------------------
N160 R5=R5+R7*(1-SIN(R2))
N170 G0 Z=R5
N180 WHILE R5>R1
N190  R5=R5-R6
N200  IF R5<R1
N210   R5=R1
N220  ENDIF
N230  R10=R3-(R5-R1)*TAN(R2)-R7*(1-COS(R2))
N240  MSG("Y="<<R10)
N250 STRT:
N260  G0 X=-35
N270  Y=R10  G41
N280  G1 Z=R5-R7*(1-SIN(R2))
N290  X35
N300  G0 Y=IC($P_TOOLR+10) G40
N310 FIN:
N320 ENDWHILE
N330 R7=0
N340 R5=-5
N350 REPEAT STRT FIN
N360 R5=-6
N370 REPEAT STRT FIN
N380 R5=-7
N390 REPEAT STRT FIN
N400 G0 Z100
N410 ENDSKOS:
N420 ROT Z120
N430 REPEAT SKOS ENDSKOS
N440 ROT Z-120
N450 REPEAT SKOS ENDSKOS
N460 M5 M0
N470 G0 SUPA Z0
N480 T="DRILL5_5"
N490 M6
N500 D1
N510 G0 Z100
N520 M3 S300 G95 F.07
N530 ROT Z60
N540 SVERL:
N550 G0 X0Y35
N560 Z3
N570 G1 Z-9
N580 Z3 FB=1
N590 G0 Z10
N600 ENDSVERL:
N610 ROT Z=180
N620 REPEAT SVERL ENDSVERL
N630 ROT Z=300
N640 REPEAT SVERL ENDSVERL
N650 M5 M0
N660 G0 SUPA Z0
N670 T="ENDMILL4"
N680 M6
N690 D1
N700 G0 Z100 G17
N710 M3 S3000 F800 G94
N720 ROT Z=60
N730 RASF:
N740 ATRANS Y35
N750 G0 X0 Y0
N760 Z1
N770 G1 Y5 G41
N780 G3 X0 Y5 Z-3.5 I=AC(0) J=AC(0) TURN=20
N790 Y5 I=AC(0) J=AC(0)
N800 G1 X0 Y0 G40
N810 Z=IC(1)
N820 G0 Z10
N830 ENDRASF:
N840 ROT Z=180
N850 REPEAT RASF ENDRASF
N860 ROT Z=300
N870 REPEAT RASF ENDRASF
G0 SUPA Z0
SUPA Y0
N880 M30



