;ZAGOTOVKA 64X32X55
;podkladki 35mm
;40 LEVEE GUBKI TISKOV
N1 G54 ;nol na dne tiskov
N2 STOPRE
N3 R1=$P_UIFR[1,X,TR]+$P_UIFR[1,X,FI]
N4 R2=$P_UIFR[1,Y,TR]+$P_UIFR[1,Y,FI]
N5 R3=$P_UIFR[1,Z,TR]+$P_UIFR[1,Z,FI]
N6 STOPRE
N7 $P_UIFR[2]=CTRANS(X,R1-40-1,Y,R2-1, Z,R3+35+54.5)
N8 G55
N9 STOPRE
N10 G55
N11 WORKPIECE(,,,"BOX",0,0.5,-55,-80,1,1,-64,-32)
;torec 'A'
N12 T="FR63"
N13 M6
N14 d1
N15 m3 s1600 g94 f300
N16 g0 z200
N17 x-110 y-15
N18 z2 M7
N19 g1 z0
N20 x40
N21 G0 SUPA z-20
m9 M1

N23 T="FR32Z3"
N24 m6
N25 d1
N26 m3 s1500 g94 f500
N27 g0 z200 m8
N28 offn=0.25
N29 r1=0 r2=-38.5 r3=5
N30 while r1>r2
N31  r1=r1-r3
N32  if r1<r2
N33   r1=r2
N34  endif
N35  repeat kontur konture
N36 endwhile
G0 SUPA z-20
m9 m1

N39 T="SV 17.5"
N40 M6
N41 D1
N42 S1200 M3 G95 f0.05
N43 Z100
;otv D22 predvaritelno
N44 MCALL CYCLE82(100,0,1,,-45,1,0,1,21)
N45 g0 x-15 y-15 M8
N46 x-47
N47 mcall
G0 SUPA z-20
m9 m1

N50 T="FR16L57"
N51 M6
N52 D1
N53 M3 S2500 G94 F1000
N54 G0 X-15 Y-15
m8
;RASKATKA(RTP,SDIS,ZNULL,GLUBINA,DST,DFIN,TURNFACTOR)
N55 RASKATKA(50,1,0,25,17,18.2,2) ;RASKATKA 18
N56 G0 X-47 Y-15
N57 RASKATKA(50,1,0,5,17,18.2,2) ;RASKATKA 18
N58 G0 X-15 Y-15
N59 RASKATKA(150,1,0,23,18,22.0,10) ;RASKATKA 22
m1
;OBHOD PO KONTURU VMERU
N61 r1=-38.5
N62 offn=-.1
N63 kontur:
N64 G0 x-32 Y=$p_toolr+15
N65 G0 Z1
N66 G1 Z=r1
N67 chkont:
N68 g347 y0 disr=10 G41
N69 x0 CHR=6
N70 y-30 CHR=6
N71 x-62 chr=6
N72 y0 chr=6
N73 x-30
N74 g348 Y=$p_toolr+15 disr=10 G40
N75 konture:
G0 SUPA z-20
m9 m1

N78 T="DISK18"
N79 M6
N80 D1
N81 S4000 M3 G94 f400
N82 trans x-15 y-15
N83 g0 x0 y0
N84 Z5 M8
N85 r1=-4
N86 r2=-3.9
N87 r3=0.7
N88 R1=R1-R3
N89 while r1<r2
N90  r1=r1+r3
N91  if r1>r2
N92     r1=r2
N93  endif
N94  g0 x0 y0
N95  g1 z=r1
N96  g347 disr=.5 x0 y11.75 g41
N97  g3 i=ac(0) j=ac(0)
N98  g348 disr=.5 x0 y0 g40
N99 endwhile
N100 trans
G0 SUPA z-20
m9 m1

N103 T="FR12Z6"
N104 M6
N105 D1
N106 M3 S2500 G94 F1000
N107 G0 X-15 Y-15
N108 G0 Z5 M8
N109 RASKATKA(150,1,0,23,21.92,22.03,2) ;RASKATKA 'D'
G0 SUPA z-20
m9 m1

N112 T="FR8L30"
N113 M6
N114 D1
N115 S4000 M3 G94 F1000
N116 G0 Z100
N117 X-30 Y5.5 M8
;cyctr (rtp, Zwork, sdis, trstep,with, string[50] traect,char prof)
N118 CYCTRE(50,-5,6,0.15,10,"G1 Y3.7") ;VIKRUJKA 'F'
N119 X-30 Y-35.5 M8
N120 CYCTRE(50,-5,6,0.15,10,"G1 Y-33.7") ;VIKRUJKA 'F'
G0 SUPA z-20
m9 m1

N123 T="E45X-D06"
N124 m6
N125 d1
N126 m3 s3000 g94 f400
N127 g0 z200
N128 X-15 Y-15 M8
N129 cfhole(50,1,0,.5,22);RTP,SDIS,ZNULL,KATET,DOTV
N130 G0 X-47 Y-15
N131 cfhole(50,1,0,.5,18)
N132 G0 X-30 Y3.7
N133 cfhole(50,1,0,.5,10)
N134 G0 X-30 Y-33.7
N135 cfhole(50,1,0,.5,10)
N136 g0 z100
N137 G0 x-32 Y=$p_toolr+15
N138 chamf(0,.5,1)
N139 repeat chkont konture
G0 SUPA z-20
SUPA Y0 M9
M30
