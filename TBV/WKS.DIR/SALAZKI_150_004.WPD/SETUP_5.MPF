N1 WORKPIECE(,,,"BOX",0,0,-170,-80,0,0,885,-240)
N2 T="SV 26"
N3 M6
N4 D1
N5 M3 S1200 G95 F.2
N6 G0 Z200 M10
N7 MCALL CYCLE82(100,0,1,-140,,1,10,1,22)
N8 OP_26: G0 X=420 Y=-69
N9 X=530
N10 OPE_26: MCALL

N11 MCALL CYCLE82(100,0,1,-140,,1,10,1,22)
N12 ON_26: X=530  y-211 
N13 x420
N14 ONE_26: MCALL
N15 M1


N16 T="SV 14"
N17 m6
N18 d1
N19 m3 s1500 g95 f.2 M10
N20 MCALL CYCLE82(100,0,1,-72,,1,10,1,22)
N21 OTV2M16: G0 X=735 Y=-20
N22 X=815 Y-20
N23 OTV2M16E: MCALL
N24 G0 Z200 M9
N25 M1

;viborka plosti high-feed. 
N26 _S5HF66
N27 m1
;Obrabotka naklonnih sklonov FR32 i KUKUR40
N28 _S5SKLONF32
N29 m1

N30 T="FR32Z3";vilet 50
N31 M6
N32 D1
N33 M3 S1300 G94 F800
N34 G0 Z200 M10
;paz 'E'
N35 R1=0 R2=-45.5 R3=15.5
N36 WHILE R1>R2
N37  R1=R1-R3
N38  IF R1<R2
N39    R1=R2
N40  ENDIF
N41  G0 X=-23 Y=-34
N42  CYCTRE(50,R1,1-R1,2,44,"g1 x305")
N43 ENDWHILE
N44 M1

;radiusa 'M'
N45 G0 x257 y-134.5
N46 R1=-30 R2=-78.5 R3=2
N47 WHILE R1>R2
N48  R1=R1-R3
N49  IF R1<R2
N50    R1=R2
N51  ENDIF
N52  G1 x257 y-134.5
N53 z=r1
N54 g347 y-97 g41 disr=10
N55 g1 x219 rnd=20
N56 y-172 rnd=20
N57 x257
N58 g348 y-134.5 g40 disr=10
N59 ENDWHILE
N60 M1

N61 _S5SKLONH40 ;sklon 'H'
N62 m1
N63 T="KUKURUZA 40" ;odin etaj plastin
N64 m6
N65 d1
N66 M3 S1000 G94 F500
;dorabotka uglov paza 'D' s R33 do R22
N67 R1=0 R2=-134.5 R3=10
N68 WHILE R1>R2
N69  R1=R1-R3
N70  IF R1<R2
N71    R1=R2
N72  ENDIF
N73  G0 X588 Y-116
N74  cycang(100,1,R1,22,1,"g1 X577 Y-105");rtp,Zhigh,Zlow,rad,step,move
N75  G0 X588 Y-174
N76  cycang(100,1,R1,22,1,"g1 X577 Y-185")
N77 ENDWHILE
N78 M1

;radiusa 'U'
N79 G0 x560 y-134.5
N80 R1=-100 R2=-134.5 R3=2
N81 WHILE R1>R2
N82  R1=R1-R3
N83  IF R1<R2
N84    R1=R2
N85  ENDIF
N86  G1 x560 y-134.5
N87 z=r1
N88 g347 y-97 g41 disr=10
N89 g1 x515
N90 y-172
N91 x560
N92 g348 y-134.5 g40 disr=10
N93 ENDWHILE
N94 M1

N95 T="FR 52"
N96 M6
N97 D1
N98 M3 S1200 G94 F500
;USTUP 'B'
N99 G0 X=337 Y=-56 z5
N100 g1 z-3
N101 X=275 rnd=5
N102 Y=-200 rnd=5
N103 X=550 rnd=5
N104 Y=-137
N105 g0 z50
N106 bmera:
N107 G0 x-30 y-270
N108 z-3
N109 g1 X=15 g41
N110 Y=-64 rnd=.5
N111 X=245 rnd=.5
N112 Y=-89 rnd=.5
N113 X=157 rnd=5
N114 Y=-180 rnd=5
N115 G1 X=245 rnd=.5
N116 Y=-236 rnd=5
N117 X=582 rnd=5
N118 Y=-4 rnd=5
N119 X=15 rnd=.5
N120 Y30
N121 x-30 g40
N122 bmerae:
N123 G0 Z200 
m1

;SKLON 'T' MERA
N229 R1=11 R2=-84 R3=2
N230 sklon:
N231 WHILE R1>R2
N232  R1=R1-R3
N233  IF R1<R2
N234    R1=R2
N235  ENDIF
N236 X910.263 Y=R1
N237 Z5
N238 G1 Z-46 F200
N239 X619.892 Z-0.01 F500
N240 X610.015 Z1.554
N241 G0 Z20
N242 ENDWHILE
N243 G0 Z200
N244 sklone:
N245 M1

;SKLON 'I' MERA
N246 R1=-206 R2=-241 R3=2
N247 repeat sklon sklone
N248 G0 Z200 M9
N249 M1


N125 T="FR 20 L143"
N126 M6
N127 D1
N128 M3 S2000 G94 F800
;dorabotka uglov paza 'D' do s R22 do R10.5 i  mera stenok
offn=-.15
N129 R1=0 R2=-134.5 R3=15
N130 WHILE R1>R2
N131  R1=R1-R3
N132  IF R1<R2
N133    R1=R2
N134  ENDIF
N135  G0 X577 Y-105
N136 cycang(100,1,R1,11,1,"g1 X566 Y-94");rtp,Zhigh,Zlow,rad,step,move
N137  G0 X577 Y-185
N138  cycang(100,1,R1,11,1,"g1 X566 Y-196")
N139 g0 x900 y-103
N140 z=r1
N141 g1 y-83 g41
N142 x555 rnd=11
N143 y-207 rnd=11
N144 x900
N145 y-195 g40
N146 g0 z50
N147 ENDWHILE                                
N148 M0
;dno karmana 'D' mera
N149 CYCLE62(,2,"KONT_D","KONTE_D")
N150 CYCLE63("kb1",1013,100,0,0.5,-135,400,200,50,5,0,0.5,0,420,-69,10,0.2,0.3,1,2,,,,0,101,110)
N151 M1
N152 SKLONYMERA
N153 M1

N154 T="FR 16"
N155 M6
N156 D1
N157 M3 S2800 G94 F1000
;dorabotka ugla 'O' v karmane 'E' i mera stenok
N158 offn=-.15
N159 r1=-35
N160 STE:
N161 G0 X514 y-45
N162 cycang(100,1,r1,10,0.5,"g1 X537 Y-22")
N163 g0 x560 y-115
N164 g1 z=r1
N165 y-97 g41
N166 x547 rnd=.5
N167 y-12 rnd=10
N168 x-10
N169 y-45
N170 x297 rnd=.5
N171 y-96.5
N172 y-99 ang=-135
N173 x310 g40
N174 g0 z10
N175 STEE:
N176 r1=-45.5
N177 repeat STE STEE
N178 m1

N179 G0 X=482 Y=-108
N180 Z200 M10
;cyctre (rtp, Zwork, sdis, trstep,with, string[50] traect)
N181 CYCTRE(100,-66,67,.5,22.4,"SPROF")
N182 G0 X=290 Y=-158
N183 CYCTRE(100,-21,22,.5,26.4,"QPROF")
N184 G0 Z200 M9
N185 M1

;dno karmana 'E' mera
N186 CYCLE62(,2,"KONT_B","KONTE_B")
N187 CYCLE63("kb1",11003,100,0,0.5,-46,400,200,25,5,0,0.5,0,420,-69,25,0.5,1,1,2,,,,0,101,110)
N188 M1


N189 T="FR 8"
N190 M6
N191 D1
N192 M3 S5000 G94 F1000
;dorabotka uglov karmana 'B'
N193 G0 X183 y-154
N194 Z100 M10
N195 cycang(100,1,-3,5,0.3,"g1 X162 Y-175");rtp,Zhigh,Zlow,rad,step,move
N196 G0 X183 y-115
N197 cycang(100,1,-3,5,0.3,"g1 X162 Y-94")
N198 G0 X556 y-30
N199 cycang(100,1,-3,5,0.3,"g1 X577 Y-9")
N200 G0 X556 y-210
N201 cycang(100,1,-3,5,0.3,"g1 X577 Y-231")
N202 G0 X271 y-210
N203 cycang(100,1,-3,5,0.3,"g1 X250 Y-231")
N204 offn=-.1
N205 repeat bmera bmerae
N206 G0 Z200 M9
N207 M1

N208 T="FR 10"
N209 M6
N210 D1
N211 M3 S4000 G94 F1000
N212 G0 Z200 M8
;DORABOTKA UGLOV KARMANA 'Q'
N213 G0 X266 Y-199
N214 cycang(100,1,-21,5.2,0.3,"g1 X258 Y-207")
N215 G0 X290 Y-199
N216 cycang(100,1,-21,5.2,0.3,"g1 X298 Y-207")
N217 M1

;DORABOTKA UGLOV KARMANA 'S'
N218 G0 X348 Y-88
N219 cycang(100,1,-66,5.2,0.3,"g1 X342 Y-82")
N220 G0 X482 Y-88
N221 cycang(100,1,-66,5.2,0.3,"g1 X488 Y-82")
N222 G0 Z200 M9
N223 M1

;N250 KRM:
N251 T="FR 10"
N252 M6
N253 D1
N254 M3 S3000 G94 F1000
;KARMANI 'J'
N255 KRMJ:
N256 G0 X=627 y-92
N257 CYCTRE(100,-21,22,.4,16.2,"PAZJ")
N258 G0 X=627 y-198
N259 CYCTRE(100,-21,22,.4,16.2,"PAZJDN")
N260 KRMJE:
N261 TRANS X45
N262 REPEAT KRMJ KRMJE
N263 TRANS
N264 M0

N265 T="FR 4"
N266 M6
N267 D1
N268 M3 S8000 G94 F800
N269 DORJ: ;DORABOTKA RADIUSOV V KARMANAH 'J'
N270 R1=0 R2=-21 R3=7
N271 WHILE R1>R2
N272  R1=R1-R3
N273  IF R1<R2
N274    R1=R2
N275  ENDIF
N276  G0 X612 Y-74
N277 cycang(100,1,R1,2.6,0.15,"g1 X606.5 Y-68.5")
N278  G0 X627 Y-74
N279 cycang(100,1,R1,2.6,0.15,"g1 X632.5 Y-68.5")
N280  G0 X612 Y-216
N281 cycang(100,1,R1,2.6,0.15,"g1 X606.5 Y-221.5")
N282  G0 X627 Y-216
N283 cycang(100,1,R1,2.6,0.15,"g1 X632.5 Y-221.5")
N284 ENDWHILE
N285 DORJE:
N286 TRANS X45
N287 REPEAT DORJ DORJE
N288 TRANS
N289 M0

;KANAVKA 'R'
N290 G0 X=397.5 Y=-80
N291 Z200 M10
N292 CYCTRE(100,-56,57,.2,5.1,"RPROF")
N293 G0 Z200 M9
N294 M1

N295 SVV:
N296 T="SV 4.3"
N297 M6
N298 D1
N299 M3 S500 G95 F.08
N300 G0 Z200 M8
N301 MCALL CYCLE83(100,-135,1,,-17,,6,100,1,0.5,75,1,0,3,1,1,1,10,1,11212121)
N302 OTV6M5:
N303 G0 X=589 Y=-100
N304 X=875
N305 Y=-145
N306 X=589
N307 Y=-190
N308 X=875
N309 OTV6M5E: MCALL

N310 MCALL CYCLE83(100,-21,1,,-17,,6,100,1,0.5,75,1,0,3,1,1,1,10,1,11212121)
N311 OTV8M5:
N312 G0 X=611.5 Y=-74
N313 Y=-216
N314 X=627.5
N315 Y=-74
N316 X=656.5
N317 Y=-216
N318 X=672.5
N319 Y=-74
N320 OTV8M5E: MCALL
N321 G0 Z200 M9
N322 M1

N323 T="SV 3.3"
N324 M6
N325 D1
N326 M3 S750 G95 F.07
N327 G0 Z200 M8
N328 MCALL CYCLE83(100,-21,1,,-14,,6,100,1,0.5,75,1,0,3,1,1,1,10,1,11212121)
N329 OTV4M4:
N330 g0 x261 y-184
N331 y-200
N332 x295
N333 y-184
N334 OTV4M4E: MCALL
N335 G0 Z200 M9
N336 M1

N337 T="SV 2.5" ;VILET >35
N338 M6
N339 D1
N340 M3 S950 G95 F.05
N341 G0 Z200 M8
N342 MCALL CYCLE83(100,-46,1,,-12,,4,100,1,0.5,75,1,0,3,1,1,1,10,1,11212121)
N343 OTV2M3:
N344 G0 X=362 Y=-59
N345 X=370 Y=-59
N346 OTV2M3E: MCALL
N347 M1

N348 MCALL CYCLE83(100,-66,1,,-12,,4,100,1,0.5,75,1,0,3,1,1,1,10,1,11212121)
N349 OTV4M3:
N350 G0 X=349 Y=-83
N351 X=369
N352 X=461
N353 X=481
N354 OTV4M3E: MCALL
N355 G0 Z200 M9
N356 M0

N357 T="E45X-D06"
N358 m6
N359 d1
N360 m3 s3000 g94 f350
N361 g0 x571 y-93 m8
N362 chamf(-3,.5,1.5) ;FASKA Z-3 UP
N363 G1 Y=-83 g41
N364 G1 X=565
N365 G3 X=555 Y=-93 I=AC(565) J=AC(-93)
N366 G1 Y=-97
N367 X=547
N368 Y=-22
N369 G3 X=537 Y=-12 I=AC(537) J=AC(-22)
N370 G1 X=-20
N371 g0 y-245
N372 g1 x0
N373 Y=-56
N374 X=297
N375 Y=-97
N376 X=180
N377 G1 Y=-172
N378 G1 X=253
N379 Y=-207
Y=-212 rnd=5
X=303 rnd=5
Y=-172
N384 X=555
N385 Y=-197
N386 G3 X=565 Y=-207 I=AC(565) J=AC(-197)
N387 G1 X=571
N388 y-197 g40
N389 g0 z100
N390 m0

N391 T="FSK8"
N392 M6
N393 D1
N394 M3 S4000 G94 F300
N395 m0;eksperimentalny metod faski na naklonah. Priglasit razrabotchika
N396 ID=1 whenever ($AA_IW[X]>594.5) DO $AA_OFF[Z]=(594.5-$AA_IW[X])*tan(9)
N397 G0 X0 Y10
N398 chamf(0,.5,1) ;FASKA Z0 + 'T' naklon
N399 G1 Y=0 g41
N400 X=655
N401 X=665 Y=10
N402 X=885
N403 Y=-60
N404 X=831.524
N405 Y=-83
N406 X=680
N407 Y=-68.5
N408 G3 X=677.5 Y=-66 I=AC(677.5) J=AC(-68.5)
N409 G1 X=651.5
N410 G3 X=649 Y=-68.5 I=AC(651.5) J=AC(-68.5)
N411 G1 Y=-83
N412 X=635
N413 Y=-68.5
N414 G3 X=632.5 Y=-66 I=AC(632.5) J=AC(-68.5)
N415 G1 X=606.5
N416 G3 X=604 Y=-68.5 I=AC(606.5) J=AC(-68.5)
N417 G1 Y=-83
N418 X=594.567
N419 X=582
N420 Y=-9
N421 G3 X=577 Y=-4 I=AC(577) J=AC(-9)
N422 G1 X=15
N423 Y10
N424 x-10 g40
N425 g0 z50
N426 m0

N427 g0 x0 y-250
N428 chamf(0,.5,1) ;FASKA Z0 + 'I' naklon
N429 g1 x15 g41
N430 Y=-64
N431 X=245
N432 Y=-89
N433 X=162
N434 G3 X=157 Y=-94 I=AC(162) J=AC(-94)
N435 G1 Y=-175
N436 G3 X=162 Y=-180 I=AC(162) J=AC(-175)
N437 G1 X=245
N438 Y=-231
N439 G3 X=250 Y=-236 I=AC(250) J=AC(-231)
N440 G1 X=577
N441 G3 X=582 Y=-231 I=AC(577) J=AC(-231)
N442 G1 Y=-207
N443 X=604
N444 Y=-221.5
N445 G3 X=606.5 Y=-224 I=AC(606.5) J=AC(-221.5)
N446 G1 X=632.5
N447 G3 X=635 Y=-221.5 I=AC(632.5) J=AC(-221.5)
N448 G1 Y=-207
N449 X=649
N450 Y=-221.5
N451 G3 X=651.5 Y=-224 I=AC(651.5) J=AC(-221.5)
N452 G1 X=677.5
N453 G3 X=680 Y=-221.5 I=AC(677.5) J=AC(-221.5)
N454 G1 Y=-207
N455 X=831.524
N456 Y=-240
N457 X-10
N458 y-250 g40
N459 g0 z100
N460 m0
N461 MCALL cfhole(100,1,0,1.1,14);RTP,SDIS,Z0,KATET,DOTV
N462 REPEAT OTV2M16 OTV2M16E
N463 cancel (1)
N464 m0

N465 G0 X=537 Y=-107 M8
N466 chamf(-46,.5,1.5)
N467 G1 Y=-97 g41
N468 G1 X=493
N469 Y=-77 rnd=5
N470 G1 X=400
N471 Y=-46.5
N472 G3 X=385 Y=-31.5 I=AC(385) J=AC(-46.5)
N473 G1 X=197.5
N474 G3 Y=-36.5 I=AC(197.5) J=AC(-34)
N475 G1 X=385
N476 G2 X=395 Y=-46.5 I=AC(385) J=AC(-46.5)
N477 G1 Y=-77
N478 X=337 rnd=5
N479 G1 Y=-97
N480 X=307
N481 y-107 g40
N482 g0 z100

N483 MCALL cfhole(100,1,-135,0.5,4.3);RTP,SDIS,Z0,KATET,DOTV
N484 REPEAT OTV6M5 OTV6M5E
N485 MCALL cfhole(100,1,-21,0.5,4.3);RTP,SDIS,Z0,KATET,DOTV
N486 REPEAT OTV8M5 OTV8M5E
N487 MCALL cfhole(100,1,-46,0.5,26);RTP,SDIS,Z0,KATET,DOTV
N488 REPEAT OP_26 OPE_26
N489 MCALL cfhole(100,1,-3,0.5,26);RTP,SDIS,Z0,KATET,DOTV
N490 REPEAT ON_26 ONE_26
N491 MCALL cfhole(100,1,-21,0.35,3.3);RTP,SDIS,Z0,KATET,DOTV
N492 REPEAT OTV4M4 OTV4M4E
N493 MCALL cfhole(100,1,-66,0.25,2.5);RTP,SDIS,Z0,KATET,DOTV
N494 REPEAT OTV4M3 OTV4M3E
N495 MCALL cfhole(100,1,-46,0.25,2.5);RTP,SDIS,Z0,KATET,DOTV
N496 REPEAT OTV2M3 OTV2M3E
N497 M0

N498 T="REZ FR P2"
N499 M6
N500 D1
N501 M3 S4000 G94 F600 M8
;OTVERSTIYA 2M16
N502 MCALL CYCLE70(100,-20,1,-70,16,1,0,2,4,0.26,1000,0,15,-29,0,21,1,,"ISO_METRIC","M16",,1001,0)
N503 REPEAT OTV2M16 OTV2M16E
N504 G0 Z200 M9
N505 M0

N506 T="MET5"
N507 M6
N508 D1
N509 G0 Z200 M8
N510 MCALL CYCLE84(100,-135,1,,14,0.7,5,,0.8,5,180,180,0,1,0,0,5,1.4,,"ISO_METRIC","M5",,1001,2001001)
N511 REPEAT OTV6M5 OTV6M5E
N512 MCALL CYCLE84(100,-21,1,,14,0.7,5,,0.8,5,180,180,0,1,0,0,5,1.4,,"ISO_METRIC","M5",,1001,2001001)
N513 REPEAT OTV8M5 OTV8M5E
N514 G0 Z200 M9     
N515 M0

N516 T="METM4"
N517 M6
N518 D1
N519 G0 Z200 M8
N520 MCALL CYCLE84(100,-21,1,,11,0.7,5,,0.7,0,200,200,0,1,0,0,5,1.4,,"ISO_METRIC","M4",,1001,2001001)
N521 REPEAT OTV4M4 OTV4M4E
N522 G0 Z200 M9     
N523 M0   

N524 T="METM3"
N525 M6
N526 D1
N527 G0 Z200 M8
N528 MCALL CYCLE84(100,-46,1,,8,0.7,5,,0.5,0,220,220,0,1,0,0,5,1.4,,"ISO_METRIC","M3",,1001,2001001)
N529 REPEAT OTV2M3 OTV2M3E
N530 MCALL CYCLE84(100,-87,1,,8,0.7,5,,0.5,0,220,220,0,1,0,0,5,1.4,,"ISO_METRIC","M3",,1001,2001001)
N531 REPEAT OTV4M3 OTV4M3E
N532 G0 Z200 M9     
N533 SUPA Y0
N534 T0 D0
N535 M30

N536 kont_b:
N537 g0 x100 y-12
N538 g1 x547 rnd=10
N539 y-107 rnd=10
N540 x297 rnd=10
N541 y-56
N542 x-11 rnd=10
N543 y-12 rnd=10
N544 x100
N545 konte_b:
N546 kont_d:
N547 g0 x700 y-83
N548 g1 x905 rnd=15
N549 y-207 rnd=15
N550 x555 rnd=10
N551 y-172
N552 x515 rnd=20
N553 y-97 rnd=20
N554 x555
N555 y-83 rnd=10
N556 x700
N557 konte_d:

