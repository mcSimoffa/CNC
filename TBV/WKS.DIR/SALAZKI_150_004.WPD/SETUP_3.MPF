N1 WORKPIECE(,,,"BOX",0,5,-260,-80,0,0,885,-170)
T="WSX445_080"
N4 M6
N5 D1
N6 M3 S3500 G94 F500
N7 G0 Z200 M8
;TOREC 'A & B' PRIP 0.3
N8 CYCLE61(100,15,2,0.3,-5,5,900,-180,4,50,0.3,500,11,0,1,11000)

T="FR 66 HF"
m6
d1
m3 s900 g94 f7000
g0 z200 m7
G0 X=-40 Y=-20
z1 ;ploskost 'B' s pripuskom
r1=.4 r2=-9.7 r3=.8
while r1>r2
 r1=r1-r3
 if r1<r2
   r1=r2
 endif
g1 z=r1
X=-40 Y=-20
G1 X=597
G2 Y=-70 ar=180
G1 X=-10
G3 Y=-120 ar=180
G1 X=597
G2 Y=-170 ar=180
G1 X=-40
endwhile
g0 z200
m1

G0 x188 Y40
z1 ; karman 'C' s pripuskom
r1=-9.5 r2=-104.6 r3=.8
while r1>r2
 r1=r1-r3
 if r1<r2
   r1=r2
 endif
g1  x188 z=r1
y-78
g3 x196 ar=180
g1 y40
endwhile
g0 z200 m9
m1


T="R245_D80"
N4 M6
N5 D1
N6 M3 S3500 G94 F500
N7 G0 Z200 M8
;faska 'J'
G0 X600 Y-200
Z50 M8
R1=0 R2=-9.9 R3=3.3
WHILE R1>R2
 R1=R1-R3
 IF R1<R2
   R1=R2
 ENDIF
 G0 X=665-$P_TOOLR+R1 Y-200
 Z1
 G1 Z=R1
 Y10
 G0 Z20
ENDWHILE
G0 Z200 M9
M1

N12 T="FR 160"
N13 M6
N14 D1
N15 M3 S300 G94 F500
N16 G0 Z200 M8
;TOREC 'B' MERA
N17 CYCLE61(100,-9,2,-10,-5,-180,655,5,5,80,1,500,22,10,1,11000)
;TOREC 'A' MERA
N17 CYCLE61(100,1,2,0,650,-180,900,5,5,80,1,500,22,0,1,11000)
N18 G0 Z200 M9
N19 M1

T="FR 50"
M6
D1
M3 S1000 G94 F500
; USTUP 'E'
N8 CYCLE61(100,-10,2,-13,-5,-180,15,5,5,60,0,600,21,10,1,11010)
OFFN=0
;USTUP 'D'
USTD:
 G0 X192 Y40
 Z-13 M8
 X145 G41 
 G1 Y=-125 RND=20
 G1 X239 RND=20
 G1 Y40
 X192 G40
 G0 Z100 
USTDE:
M9
M1

T="FR32Z3" ;VILET >97
M6
D1
M3 S1500 G94 F800
G0 Z100 M8
r1=0 r2=-54.5 r3=14.5
;PAZ 'F' probivka
WHILE R1>R2
  R1=R1-R3
  IF R1<R2
    R1=R2
  ENDIF
  G0 X913 Y-74
  ;cyctre (rtp, Zwork, sdis, trstep,with, string[50] traect)
  CYCTRE(50,R1,-R1+1,2,55,"G1 X715")
ENDWHILE
m1

;dno paza 'F' mera
OFFN=0
r1=-55
fcontur:
 G0 X=885+$P_TOOLR+10 Y=-46.5-$P_TOOLR-10
 G1 Z=r1
 Y-46.5 G41 
 X715
 G3 Y-101.5 CR=27.5
 G1 X890
 Y=-74 Z=IC(2) G40
fconture:
G0 Z100 M9
M0

;dorabotka uglov karmana 'D'
g0 X172 y-98
cycang(50,-10,-13,20,1,"g1 X165 Y-105");rtp,Zhigh,Zlow,rad,step,move
g0 X212 y-98
cycang(50,-10,-13,20,1,"g1 X219 Y-105")
m1

;dorabotka uglov na R=20 karmana 'C'
R1=-10 R2=-104.5 R3=10
WHILE R1>R2
   R1=R1-R3
   IF R1<R2
     R1=R2
   ENDIF
  g0 X192 y-78
  cycang(50,1,R1,20,1,"g1 X175 Y-95");rtp,Zhigh,Zlow,rad,step,move
  g0 X192 y-78
  cycang(50,1,R1,20,1,"g1 X209 Y-95")
  g0 z50
ENDWHILE
m1

;dno paza 'C' mera
OFFN=15
r1=-105
f300
ckontur:
 G0 X=192 Y40
 G1 Z=r1
 X155 G41 
 Y-115 rnd=20
 x229 rnd=20
 Y=$P_TOOLR+10
 X192 G40
ckonture:
offn=1
repeat ckontur ckonture
G0 Z100 M9
M0

T="FR 20 L143" ;VILET>100
M6
D1
M3 S2500 G94 F1000
G0 Z200 M8
;DORABITKA UGLA NA R=10 i mera stenki KARMANA 'C'
R1=-13 R2=-105 R3=10
WHILE R1>R2
   R1=R1-R3
   IF R1<R2
     R1=R2
   ENDIF
  g0 X175 Y-95
  cycang(50,1,R1,10.15,0.5,"g1 X165 Y-105");rtp,Zhigh,Zlow,rad,step,move
  g0 X209 Y-95
  cycang(50,1,R1,10.15,0.5,"g1 X219 Y-105")
  offn=-.15
  repeat ckontur ckonture
  g0 z50
ENDWHILE
M0

;mera stenki karmana 'F'
r1=0 r2=-55 r3=11
offn=-.1
WHILE R1>R2
  R1=R1-R3
  IF R1<R2
    R1=R2
  ENDIF
  repeat fcontur fconture
ENDWHILE
g0 z100 m9
m0


T="SV 22.5"
M6
D1
M3 S2000 G95 F.25 M10
;8 OTV D18. ZASVERLOVKA POD REZBU 
MCALL CYCLE82(100,-10,1,-45,,1,10,1,22)
REPEAT OTV18 OTVE18
M9
M0

T="SV 18 L145"
M6
D1
M3 S2000 G95 F.2 
G0 Z200 M10
;8 OTV D18 PILOTNOE OTV
MCALL CYCLE82(100,-45,1,-100,,1,10,1,22)
OTV18:G0 X=275 Y=-19
G1 Y=-101
X=337
Y=-19
X=444
Y=-101
X=506
Y=-19
OTVE18: MCALL
M9
M0

T="SV 18 L210"
M6
D1
M3 S2000 G95 F.2 M10
;8 OTV D18. DO DNA 
MCALL CYCLE82(100,-45,1,-210.6,,1,10,1,22)
REPEAT OTV18 OTVE18
M9
M0

T="SV 17.5"
M6
D1
M3 S2200 G95 F.2 M10
;2 OTV M20
MCALL CYCLE82(100,-55,1,-100,,1,10,1,22)
OTVM20: G0 X759 Y-74
X835 Y-74
OTVEM20: MCALL
M9
M0

T="SV 4.3" ;VILET >115 DIAM DERJAVKI <36
M6
D1
M3 S500 G95 F.08 M10
;4 OTV M5
MCALL CYCLE82(100,-105,1,,-17,1,10,1,21)
OTVM5: G0 X=173 Y=-30
X=211
Y=-40
X=173
OTVEM5:MCALL
G0 Z200 M9
M0


T="FR 16"
M6
D1
M3 S2500 G94 F1000 M10
;8 OTV D18. POTAY D30
;RASKATKA(RTP,SDIS, ZNULL, GLUBINA, DST, DFIN,TURNFACTOR)
N33 MCALL RASKATKA(100,1,-10,4,22,30.2,8)
REPEAT OTV18 OTVE18
repeat USTD USTDE
M9
M0

T="E45X-D06"
M6
D1
M3 S3000 G94 F400
G0 Z200 M10
;faska vdol 'E'
G0 X-10 Y-180
CHAMF(-13,.5,1.5) ;Z0;KATET,DEBT
G1 X0  G41
Y10
X-10 G40
G0 Z50

;FASKA 1
X0 Y-180
CHAMF(-10,.5,1.5) ;Z0;KATET,DEBT
G1 x15 g41
y0
X=145
Y=-125 rnd=20
X=239 rnd=20
G1 Y=0
X=640
y10 g40
g0 z100

;FASKA 2
G0 X640 Y10
CHAMF(0,.5,1.5) ;Z0;KATET,DEBT
G1 y0 g41
x=885
Y=-46.5
X=715
G3 Y=-101.5 I=AC(715) J=AC(-74)
G1 X=885
Y=-130
x895 g40
g0 z50

;FASKA 3 (Z-13)
G0 X165 Y10
CHAMF(-13,.5,1.5) ;Z0;KATET,DEBT
G1 X155 G41
Y=-115 RND=10
X=229 RND=10
Y10
X219 G40
G0 Z50

mcall cfhole(50,1,-10,.5,30);RTP,SDIS,ZNULL,KATET,DOTV
REPEAT OTV18 OTVE18
mcall cfhole(50,1,-14,1,22.5);RTP,SDIS,ZNULL,KATET,DOTV
REPEAT OTV18 OTVE18
G0 Z200 M9
M0

T="FSK8" ;VILET >110 DIAM DERJAVKI <35
M6
D1
M3 S3800 G94 F300
G0 Z200 M10
mcall cfhole(50,1,-55,1.6,17.5);RTP,SDIS,ZNULL,KATET,DOTV
REPEAT OTVM20 OTVEM20

mcall cfhole(50,1,-105,.5,4.3);RTP,SDIS,ZNULL,KATET,DOTV
REPEAT OTVM5 OTVEM5
G0 Z100 M9
M0

T="REZ FR P2.5"
M6
D1
M3 S3000 G94 F500 M10
MCALL CYCLE70(100,-55,1,-96,20.15,1.15,0,2.5,4,0.28,600,0,25,-140,0,21,1,,"ISO_METRIC","M20",,1,0)
REPEAT OTVM20 OTVEM20
G0 Z200 M9
M0

T="REZ FR P1.5"
M6
D1
M3 S3000 G94 F500 M10
MCALL CYCLE70(100,-14,1,-35,24.15,0.6,0,1.5,15,0.195,600,0,25,-140,0,21,1,,,,,1,0)
REPEAT OTV18 OTVE18
G0 Z200 M9
M0

T="MET5" ;VILET >125 DIAM DERJAVKI <35
M6
D1
M3 S200 G95 F.8
MCALL CYCLE84(100,-105,1,,-13,0.7,5,,0.8,0,200,200,0,1,0,0,5,1.4,,"ISO_METRIC","M5",,1001,2001001)
REPEAT OTVM5 OTVEM5
G0 Z200 M9
M30
