;razvorot na 180 vokrug X
G54;PLITKI 14
;X0 SLEVA VILET NA 50 MM
STOPRE
R1=$P_UIFR[1,X,TR]+$P_UIFR[1,X,FI]
R2=$P_UIFR[1,Y,TR]+$P_UIFR[1,Y,FI]
R3=$P_UIFR[1,Z,TR]+$P_UIFR[1,Z,FI]
STOPRE
$P_UIFR[2]=CTRANS(X,R1-150-50,Y,R2, Z,R3+14+120)
G55
STOPRE
N1 WORKPIECE(,,,"BOX",0,2,-130,-80,0,2.5,245,-100)
T="WSX445_080"
m6
d1
m3 s500 g94 f500
G0 Z100
m8
CYCLE61(100,2,1,0,0,0,245,-105,1,40,0.25,500,11,0,1,0)
g0 x=-10-$p_toolr y=10+$p_toolr
chamf(0,2.5,1)
repeat abfa abfae
G0 SUPA Z-20
M9 M1

T="FR32Z3"
m6
d1
N10 m3 s1500 g94 f500
r1=0 r2=-50 r3=5
offn=.2
about: 
g0 z100
while r1>r2
 r1=r1-r3
 if r1<r2
   r1=r2
 endif
 g0 x=-10-$p_toolr y=10+$p_toolr
 z=r1 M8
abfa:
 g1 y0 g41 M8
 x245 rnd=.5
 y-94 rnd=.5
 x0 rnd=.5
 y0 rnd=.5
 x5
 y=10+$p_toolr g40
abfae:
endwhile
aboute:
G0 SUPA Z-20
M9 M1

T="FR32Z3L94"
m6
d1
m3 s1500 g94 f500
G0 Z100
M8
r1=-50 r2=-65 r3=4
repeat about aboute
G0 SUPA Z-20
M9 M1

M0;DOBAVLENO OBRAB

T="FR16L80"
m6
d1
m3 s2200 g94 f500
G0 Z100
M8
r1=0 r2=-65 r3=38
OFFN=-.15
repeat about aboute
G0 SUPA Z-20
M9 M1

T="FR50"
m6
d1
m3 s1200 g94 f500
G0 Z100
M8
CYCLE61(100,0.25,1,0,0,0,245,-105,2,30,0.25,500,12,0,1,0)
;r1=0 r2=-62 r3=9
;offn=-.2
;repeat about aboute
G0 SUPA Z-20
M9 M1

;SVERLOVKI
N15 T="SV 14"
N16 M6
N17 D1
N18 M3 S300 G95 F.12
G0 Z100
M8
;RAZREZ B-B 3 OTV POD M16
MCALL LONGDRILL(100,10,0,-75,40,12,3,3)
N21 OTV14: ;G0 Y-35 X30
G0 Y-35 X90
Y-35 X150
OTVE14:
MCALL
G0 SUPA Z-20
M9 M1

N15 T="SV 17.5"
N16 M6
N17 D1
N18 M3 S900 G95 F.05
G0 Z100
M8
;predvaritelno kolodec D26 L80
;BREAKDRILL(RTP,ZNULL,ZMAX,FIRST,SECOND,DEGRESS,MINSTEP, DWEEL
MCALL BREAKDRILL(100,0,-84,45,16,3,4,2)
N28 OTV16: G0 Y-78 X95
N29 OTVE16: Y-50.5 X207
mcall
MCALL BREAKDRILL(100,0,-70,45,16,3,4,2)
N30 OTV17_5: G0 Y-78 X25
N54 Y-78 X165
N55 Y-78 X225
N56 OTVE17_5: Y-23 X225
N31 MCALL
G0 SUPA Z-20
M9 M1

T="SV 26"
N35 M6
N36 D1
N37 M3 S120 G95 F.15
G0 Z100
M8
N39 MCALL CYCLE82(100,0,1,-28,,0.1,0,1,12)
N40 REPEAT OTV17_5 OTVE17_5
mcall
N39 MCALL CYCLE82(100,0,1,-23,,0.1,0,1,12)
N41 REPEAT OTV14 OTVE14
N42 MCALL
MCALL LONGDRILL(100,10,0,-84,45,16,3,4)
N44 REPEAT OTV16 OTVE16
N45 MCALL
G0 SUPA Z-20
SUPA Y0 M9
M0;OCHISTIT STRUJKU IZ OTV

N70 T="FR16L57"
N71 M6
N72 D1
N73 M3 S2500 G94 F1000
G0 Z100 CFIN
M8
;HELIC (RTP, SDIS, ZNULL, GLUBINA, DOTV,TURNFACTOR)
N180 mcall HELIC(100,.5,-20,5,26.2,14)
N76 REPEAT OTV17_5 OTVE17_5
mcall
N180 mcall HELIC(100,.5,-14,6,26.2,18)
N77 REPEAT OTV14 OTVE14
N78 MCALL
G0 SUPA Z-20
SUPA Y0 M9
M1

N84 T="FR16L80" ;LONG
N85 M6
N86 D1
N87 M3 S3000 G94 F1000
G0 Z100
M8
mcall HELIC(100,.5,0,75,26.25,20)
REPEAT OTV16 OTVE16
mcall
mcall HELIC(100,.5,-75,5,26.2,16)
REPEAT OTV16 OTVE16
MCALL
G0 SUPA Z-20
M9 M1

T="E45X-D06"
N95 M6
N96 D1
N97 M3 S3000 G94 F500
G0 Z100
M8
N99 MCALL cfhole(100,1,-0,0.5,26);RTP,SDIS,Z0,KATET,DOTV
N100 REPEAT OTV17_5 OTVE17_5
N101 REPEAT OTV14 OTVE14
N102 REPEAT OTV16 OTVE16
N103 MCALL
MCALL cfhole(100,1,-20,1.1,14);RTP,SDIS,Z0,KATET,DOTV
REPEAT OTV14 OTVE14
MCALL
G0 supa z-20
SUPA Y0
M9 M0 ;VITASHI STRUJKI

N2478 T="REZ FR P2"
N2479 M6
N2480 D1
N2481 M3 S4200 G94 F600
M8
MCALL CYC70(100,-24,1,-60,16.10,1.01,0,2,3,0.4,600,0,15,-29,0,21,1,,"ISO_METRIC","M16",,1101,0)
N2483 REPEAT OTV14 OTVE14
N2484 MCALL
G0 supa z-20
SUPA Y0 M9
M30
G0 Z100
M8
MCALL CYC70(100,-24,1,-60,16.15,0.05,0,2,3,0.025,600,0,15,-29,0,21,1,,"ISO_METRIC","M16",,1101,0)
N2483 REPEAT OTV14 OTVE14
N2484 MCALL
g0 supa z-20
N115 SUPA Y0 M9
M30

N2482 MCALL CYCLE70(100,-24,1,-60,16.34,1.0826,0,2,4,0.5,600,0,15,-29,0,21,1,,"ISO_METRIC","M16",,1101,0)

