DEF BOOL DETAL_165=FALSE 
;ESLI DETAL 165.301 TOGDA TRUE. 
;ESLI DETAL 155.301 TOGDA FALSE
N1 G54 ;nol X SLEVA 
N2 STOPRE
N3 R1=$P_UIFR[1,X,TR]+$P_UIFR[1,X,FI]
N4 R2=$P_UIFR[1,Y,TR]+$P_UIFR[1,Y,FI]
N5 R3=$P_UIFR[1,Z,TR]+$P_UIFR[1,Z,FI]
N6 STOPRE
N7 $P_UIFR[2]=CTRANS(X,R1+1-152,Y,R2-1, Z,R3+48+14)
N8 G55
N9 STOPRE
WORKPIECE(,,,"BOX",0,1,-15,-80,-1,1,152,-76)
T="WSX445_080"
m6
d1
m3 s1000 f1000 g94
g0 z200 m8
CYCLE61(100,1,2,0,-5,10,155,-85,4,40,0,500,11,0,1,11000)
g0 z200 m9
m1

IF DETAL_165
 TRANS Y-37
 AMIRROR Y0
 ATRANS Y37
ENDIF

T="SV 17.5"
m6
d1
m3 s2000 g95 f.1
g0 z200 m8
MCALL CYCLE82(100,0,1,-6,,1,0,1,22)
otv22: g0 x22 y-54
x127
otve22: mcall
g0 z200 m9
m1

T="FR8AL" ;for Al
m6
d1
m3 s5000 g94 f800
;periferiya mera
g0 x-10 y10
z1
g1 z-11 m8
y0 g41 offn=-.05
x150 rnd=.25
y-74 rnd=.25
x0 rnd=.25
y0 rnd=.25
x2
y10 g40
g0 z100
m1

;otverstie mera
;mcall RASKATKA(RTP,SDIS, ZNULL, GLUBINA, DST, DFIN,TURNFACTOR)
N391 mcall RASKATKA(50,1,0,6,10,22,3)
repeat otv22 otve22
N391 mcall RASKATKA(50,1,0,6,22,22.04,1)
repeat otv22 otve22

g0 z200 m9
m0

T="SV 4.3"
m6
d1
m3 s1000 g95 f.12
g0 z200 m8
MCALL CYCLE82(100,0,1,-13.7,,1,0,1,22)
otv4m5:G0 X=5 Y=-39
X=94 Y=-6
X=104
X=145 Y=-39
otve4m5: mcall
g0 z200 m9
m1

T="SV 3.4"
m6
d1
m3 s2000 f0.1 g95
g0 z200
m8
MCALL CYCLE82(100,0,1,-16,,1,10,1,22)
otv2m4: G0 X=53 Y=-56
X=88 Y=-43
otve2m4: mcall
g0 z200 m9
m1

T="FSK6"
m6
d1
m3 s5000 g94 f800
g0 z100 m8
x-10 y10
chamf(0,.25,1)
G1 Y=0 g41
G1 x150
Y=-74
X=0
Y=10
x-10 g40
g0 z100
m0

MCALL cfhole(100,1,0,.5,4.3);RTP,SDIS,Z0,KATET,DOTV
repeat otv4m5 otve4m5
MCALL cfhole(100,1,0,.4,3.3);RTP,SDIS,Z0,KATET,DOTV
repeat otv2m4 otve2m4
MCALL cfhole(100,1,0,.2,22)
repeat otv22 otve22
g0 z200 m9

T="MET4X07" ;skvoznoy
m6
d1
g0 z200 m8
MCALL CYCLE84(100,0,10,,-15,1,5,,0.7,0,300,300,0,1,0,0,5,1.4,,"ISO_METRIC","M4",,1001,2001001)
repeat otv2m4 otve2m4
g0 z200 m9
m1

T="MET5X08" ;gluhoy
m6
d1
g0 z200 m8
MCALL CYCLE84(100,0,10,-12,,1,5,,0.8,0,250,250,0,1,0,0,5,1.4,,"ISO_METRIC","M5",,1001,2001002)
repeat otv4m5 otve4m5
g0 z200 m9
SUPA Y0
m30
